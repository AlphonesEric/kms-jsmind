var $conTextMenu="",_noop=function(){};Object.keys||(Object.keys=function(){"use strict";var o=Object.prototype.hasOwnProperty,s=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=a.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,i,n=[];for(e in t)o.call(t,e)&&n.push(e);if(s)for(i=0;i<r;i++)o.call(t,a[i])&&n.push(a[i]);return n}}()),$(function(){$("body").append('<div id="kmsjsmap_contextmenu"><ul class="sui-dropdown-menu"><li><a href="javascript: kmsjsmap.add_node();">添加节点</a></li><li><a href="javascript: kmsjsmap.modify_node()">编辑节点</a></li><li><a href="javascript: kmsjsmap.del_node()">删除节点</a></li><li><a href="javascript: kmsjsmap.relation_node()">关联节点</a></li></ul></div>'),$conTextMenu=$("div#kmsjsmap_contextmenu")}),function(l){"use strict";var t="jsMind",i="0.4.6",v="undefined"==typeof console?{log:_noop,debug:_noop,error:_noop,warn:_noop,info:_noop}:console;if("undefined"!=typeof module&&module.exports||void 0===l[t]){var d=l.document,h=function(t){return d.createElement(t)},c=function(t,e){t.hasChildNodes()?t.firstChild.nodeValue=e:t.appendChild(d.createTextNode(e))},a=function(t,e){t.innerHTML=e};"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return this.slice(0,t.length)===t});var n={container:"",editable:!1,theme:null,mode:"full",support_html:!0,view:{hmargin:100,vmargin:50,line_width:2,line_color:"#555"},layout:{hspace:30,vspace:20,pspace:13},default_event_handle:{enable_mousedown_handle:!0,enable_click_handle:!0,enable_dblclick_handle:!0},shortcut:{enable:!0,handles:{},mapping:{addchild:45,addbrother:13,editnode:113,delnode:46,toggle:32,left:37,up:38,right:39,down:40}}},g=function(t){(g.current=this).version=i;var e={};g.util.json.merge(e,n),g.util.json.merge(e,t),e.container?(this.options=e,this.inited=!1,this.mind=null,this.event_handles=[],this.init()):v.error("the options.container should not be null or empty.")};g.direction={left:-1,center:0,right:1},g.event_type={show:1,resize:2,edit:3,select:4},g.node=function(t,e,i,n,o,s,a,r){t?"number"==typeof e?(void 0===r&&(r=!0),this.id=t,this.index=e,this.topic=i,this.data=n||{},this.isroot=o,this.parent=s,this.direction=a,this.expanded=!!r,this.children=[],this._data={}):v.error("invalid node index"):v.error("invalid nodeid")},g.node.compare=function(t,e){var i=t.index,n=e.index;return 0<=i&&0<=n?i-n:-1==i&&-1==n?0:-1==i?1:-1==n?-1:0},g.node.inherited=function(t,e){if(t&&e){if(t.id===e.id)return!0;if(t.isroot)return!0;for(var i=t.id,n=e;!n.isroot;)if((n=n.parent).id===i)return!0}return!1},g.node.prototype={get_location:function(){var t=this._data.view;return{x:t.abs_x,y:t.abs_y}},get_size:function(){var t=this._data.view;return{w:t.width,h:t.height}}},g.mind=function(){this.name=null,this.author=null,this.version=null,this.root=null,this.selected=null,this.nodes={}},g.mind.prototype={get_node:function(t){return t in this.nodes?this.nodes[t]:(v.warn("the node[id="+t+"] can not be found"),null)},set_root:function(t,e,i){null==this.root?(this.root=new g.node(t,0,e,i,!0),this._put_node(this.root)):v.error("root node is already exist")},add_node:function(t,e,i,n,o,s,a){if(!g.util.is_node(t)){var r=this.get_node(t);return r?this.add_node(r,e,i,n,o,s,a):(v.error("the parent_node[id="+t+"] can not be found."),null)}var l=o||-1,d=null;if(t.isroot){var h=g.direction.right;if(isNaN(s)){for(var c=t.children,u=c.length,p=0,f=0;f<u;f++)c[f].direction===g.direction.left?p--:p++;h=1<u&&0<p?g.direction.left:g.direction.right}else h=s!=g.direction.left?g.direction.right:g.direction.left;d=new g.node(e,l,i,n,!1,t,h,a)}else d=new g.node(e,l,i,n,!1,t,t.direction,a);return this._put_node(d)?(t.children.push(d),this._reindex(t)):(v.error("fail, the nodeid '"+d.id+"' has been already exist."),d=null),d},insert_node_before:function(t,e,i,n){if(!g.util.is_node(t)){var o=this.get_node(t);return o?this.insert_node_before(o,e,i,n):(v.error("the node_before[id="+t+"] can not be found."),null)}var s=t.index-.5;return this.add_node(t.parent,e,i,n,s)},get_node_before:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.get_node_before(e):(v.error("the node[id="+t+"] can not be found."),null)}if(t.isroot)return null;var i=t.index-2;return 0<=i?t.parent.children[i]:null},insert_node_after:function(t,e,i,n){if(!g.util.is_node(t)){var o=this.get_node(node_before);return o?this.insert_node_after(o,e,i,n):(v.error("the node_after[id="+t+"] can not be found."),null)}var s=t.index+.5;return this.add_node(t.parent,e,i,n,s)},get_node_after:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.get_node_after(e):(v.error("the node[id="+t+"] can not be found."),null)}if(t.isroot)return null;var i=t.index;return t.parent.children.length>=i?t.parent.children[i]:null},move_node:function(t,e,i,n){if(!g.util.is_node(t)){var o=this.get_node(t);return o?this.move_node(o,e,i,n):(v.error("the node[id="+t+"] can not be found."),null)}return i||(i=t.parent.id),this._move_node(t,e,i,n)},_flow_node_direction:function(t,e){void 0===e?e=t.direction:t.direction=e;for(var i=t.children.length;i--;)this._flow_node_direction(t.children[i],e)},_move_node_internal:function(t,e){if(t&&e)if("_last_"==e)t.index=-1,this._reindex(t.parent);else if("_first_"==e)t.index=0,this._reindex(t.parent);else{var i=e?this.get_node(e):null;null!=i&&null!=i.parent&&i.parent.id==t.parent.id&&(t.index=i.index-.5,this._reindex(t.parent))}return t},_move_node:function(t,e,i,n){if(t&&i){if(t.parent.id!=i){for(var o=t.parent.children,s=o.length;s--;)if(o[s].id==t.id){o.splice(s,1);break}t.parent=this.get_node(i),t.parent.children.push(t)}t.parent.isroot?n==jsMind.direction.left?t.direction=n:t.direction=g.direction.right:t.direction=t.parent.direction,this._move_node_internal(t,e),this._flow_node_direction(t)}return t},remove_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.remove_node(e):(v.error("the node[id="+t+"] can not be found."),!1)}if(!t)return v.error("fail, the node can not be found"),!1;if(t.isroot)return v.error("fail, can not remove root node"),!1;$('div.leo-badge[nodeid$="'+t.id+'"]').remove(),null!=this.selected&&this.selected.id==t.id&&(this.selected=null);for(var i=t.children,n=i.length;n--;)this.remove_node(i[n]);i.length=0;for(var o=t.parent.children,s=o.length;s--;)if(o[s].id==t.id){o.splice(s,1);break}for(var a in delete this.nodes[t.id],t)delete t[a];return!(t=null)},_put_node:function(t){return t.id in this.nodes?(v.warn("the nodeid '"+t.id+"' has been already exist."),!1):(this.nodes[t.id]=t,!0)},_reindex:function(t){if(t instanceof g.node){t.children.sort(g.node.compare);for(var e=0;e<t.children.length;e++)t.children[e].index=e+1}}},g.format={node_tree:{example:{meta:{name:t,version:i},format:"node_tree",data:{id:"root",topic:"jsMind Example"}},get_mind:function(t){var e=g.format.node_tree,i=new g.mind;return i.name=t.meta.name,i.author=t.meta.author,i.version=t.meta.version,e._parse(i,t.data),i},get_data:function(t){var e=g.format.node_tree,i={};return i.meta={name:t.name,author:t.author,version:t.version},i.format="node_tree",i.data=e._buildnode(t.root),i},_parse:function(t,e){var i=g.format.node_tree,n=i._extract_data(e);if(t.set_root(e.id,e.topic,n),"children"in e)for(var o=e.children,s=0;s<o.length;s++)i._extract_subnode(t,t.root,o[s])},_extract_data:function(t){var e={};for(var i in t)"id"!=i&&"topic"!=i&&"children"!=i&&"direction"!=i&&"expanded"!=i&&(e[i]=t[i]);return e},_extract_subnode:function(t,e,i){var n=g.format.node_tree,o=n._extract_data(i),s=null;e.isroot&&(s="left"==i.direction?g.direction.left:g.direction.right);var a=t.add_node(e,i.id,i.topic,o,null,s,i.expanded);if("children"in i)for(var r=i.children,l=0;l<r.length;l++)n._extract_subnode(t,a,r[l])},_buildnode:function(t){var e=g.format.node_tree;if(t instanceof g.node){var i={id:t.id,topic:t.topic,expanded:t.expanded};if(t.parent&&t.parent.isroot&&(i.direction=t.direction==g.direction.left?"left":"right"),null!=t.data){var n=t.data;for(var o in n)i[o]=n[o]}var s=t.children;if(0<s.length){i.children=[];for(var a=0;a<s.length;a++)i.children.push(e._buildnode(s[a]))}return i}}},node_array:{example:{meta:{name:t,version:i},format:"node_array",data:[{id:"root",topic:"jsMind Example",isroot:!0}]},get_mind:function(t){var e=g.format.node_array,i=new g.mind;return i.name=t.meta.name,i.author=t.meta.author,i.version=t.meta.version,e._parse(i,t.data),i},get_data:function(t){var e=g.format.node_array,i={};return i.meta={name:t.name,author:t.author,version:t.version},i.format="node_array",i.data=[],e._array(t,i.data),i},_parse:function(t,e){var i=g.format.node_array,n=e.slice(0);n.reverse();var o=i._extract_root(t,n);o?i._extract_subnode(t,o,n):v.error("root node can not be found")},_extract_root:function(t,e){for(var i=g.format.node_array,n=e.length;n--;)if("isroot"in e[n]&&e[n].isroot){var o=e[n],s=i._extract_data(o);return t.set_root(o.id,o.topic,s),e.splice(n,1),o.id}return null},_extract_subnode:function(t,e,i){for(var n=g.format.node_array,o=i.length,s=null,a=null,r=0;o--;)if((s=i[o]).parentid==e){a=n._extract_data(s);var l=null,d=s.direction;d&&(l="left"==d?g.direction.left:g.direction.right),t.add_node(e,s.id,s.topic,a,null,l,s.expanded),i.splice(o,1),r++;var h=n._extract_subnode(t,s.id,i);0<h&&(o=i.length,r+=h)}return r},_extract_data:function(t){var e={};for(var i in t)"id"!=i&&"topic"!=i&&"parentid"!=i&&"isroot"!=i&&"direction"!=i&&"expanded"!=i&&(e[i]=t[i]);return e},_array:function(t,e){g.format.node_array._array_node(t.root,e)},_array_node:function(t,e){var i=g.format.node_array;if(t instanceof g.node){var n={id:t.id,topic:t.topic,expanded:t.expanded};if(t.parent&&(n.parentid=t.parent.id),t.isroot&&(n.isroot=!0),t.parent&&t.parent.isroot&&(n.direction=t.direction==g.direction.left?"left":"right"),null!=t.data){var o=t.data;for(var s in o)n[s]=o[s]}e.push(n);for(var a=t.children.length,r=0;r<a;r++)i._array_node(t.children[r],e)}}},freemind:{example:{meta:{name:t,version:i},format:"freemind",data:'<map version="1.0.1"><node ID="root" TEXT="freemind Example"/></map>'},get_mind:function(t){var e=g.format.freemind,i=new g.mind;i.name=t.meta.name,i.author=t.meta.author,i.version=t.meta.version;var n=t.data,o=e._parse_xml(n),s=e._find_root(o);return e._load_node(i,null,s),i},get_data:function(t){var e=g.format.freemind,i={};i.meta={name:t.name,author:t.author,version:t.version},i.format="freemind";var n=[];return n.push('<map version="1.0.1">'),e._buildmap(t.root,n),n.push("</map>"),i.data=n.join(" "),i},_parse_xml:function(t){var e=null;window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t));return e},_find_root:function(t){for(var e=t.childNodes,i=null,n=null,o=0;o<e.length;o++)if(1==(n=e[o]).nodeType&&"map"==n.tagName){i=n;break}if(i){var s=i.childNodes;i=null;for(o=0;o<s.length;o++)if(1==(n=s[o]).nodeType&&"node"==n.tagName){i=n;break}}return i},_load_node:function(t,e,i){var n=g.format.freemind,o=i.getAttribute("ID"),s=i.getAttribute("TEXT");if(null==s)for(var a=i.childNodes,r=null,l=0;l<a.length;l++)if(1==(r=a[l]).nodeType&&"richcontent"===r.tagName){s=r.textContent;break}var d=n._load_attributes(i),h=!("expanded"in d)||"true"==d.expanded;delete d.expanded;var c=i.getAttribute("POSITION"),u=null;c&&(u="left"==c?g.direction.left:g.direction.right),e?t.add_node(e,o,s,d,null,u,h):t.set_root(o,s,d);var p=i.childNodes,f=null;for(l=0;l<p.length;l++)1==(f=p[l]).nodeType&&"node"==f.tagName&&n._load_node(t,o,f)},_load_attributes:function(t){for(var e=t.childNodes,i=null,n={},o=0;o<e.length;o++)1==(i=e[o]).nodeType&&"attribute"===i.tagName&&(n[i.getAttribute("NAME")]=i.getAttribute("VALUE"));return n},_buildmap:function(t,e){var i=g.format.freemind,n=null;t.parent&&t.parent.isroot&&(n=t.direction===g.direction.left?"left":"right"),e.push("<node"),e.push('ID="'+t.id+'"'),n&&e.push('POSITION="'+n+'"'),e.push('TEXT="'+t.topic+'">'),e.push('<attribute NAME="expanded" VALUE="'+t.expanded+'"/>');var o=t.data;if(null!=o)for(var s in o)e.push('<attribute NAME="'+s+'" VALUE="'+o[s]+'"/>');for(var a=t.children,r=0;r<a.length;r++)i._buildmap(a[r],e);e.push("</node>")}}},g.util={is_node:function(t){return!!t&&t instanceof g.node},ajax:{_xhr:function(){var t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest;else try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return t},_eurl:function(t){return encodeURIComponent(t)},request:function(t,e,i,n,o){var s=g.util.ajax,a=null,r=[];for(var l in e)r.push(s._eurl(l)+"="+s._eurl(e[l]));0<r.length&&(a=r.join("&"));var d=s._xhr();d&&(d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||0==d.status){if("function"==typeof n){var t=g.util.json.string2json(d.responseText);n(null!=t?t:d.responseText)}}else"function"==typeof o?o(d):v.error("xhr request failed.",d)},i=i||"GET",d.open(i,t,!0),d.setRequestHeader("If-Modified-Since","0"),"POST"==i?(d.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.send(a)):d.send())},get:function(t,e){return g.util.ajax.request(t,{},"GET",e)},post:function(t,e,i){return g.util.ajax.request(t,e,"POST",i)}},dom:{add_event:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)}},canvas:{bezierto:function(t,e,i,n,o){t.beginPath(),t.moveTo(e,i),t.bezierCurveTo(e+2*(n-e)/3,i,e,o,n,o),t.stroke()},lineto:function(t,e,i,n,o){t.beginPath(),t.moveTo(e,i),t.lineTo(n,o),t.stroke()},clear:function(t,e,i,n,o){t.clearRect(e,i,n,o)}},file:{read:function(t,e){var i=new FileReader;i.onload=function(){"function"==typeof e&&e(this.result,t.name)},i.readAsText(t)},save:function(t,e,i){var n;if("function"==typeof l.Blob)n=new Blob([t],{type:e});else{var o=new(l.BlobBuilder||l.MozBlobBuilder||l.WebKitBlobBuilder||l.MSBlobBuilder);o.append(t),n=o.getBlob(e)}if(navigator.msSaveBlob)navigator.msSaveBlob(n,i);else{var s=(l.URL||l.webkitURL).createObjectURL(n),a=h("a");if("download"in a){a.style.visibility="hidden",a.href=s,a.download=i,d.body.appendChild(a);var r=d.createEvent("MouseEvents");r.initEvent("click",!0,!0),a.dispatchEvent(r),d.body.removeChild(a)}else location.href=s}}},json:{json2string:function(t){if(JSON)try{return JSON.stringify(t)}catch(t){return v.warn(t),v.warn("can not convert to string"),null}},string2json:function(t){if(JSON)try{return JSON.parse(t)}catch(t){return v.warn(t),v.warn("can not parse to json"),null}},merge:function(t,e){for(var i in e)i in t?"object"!=typeof t[i]||"[object object]"!=Object.prototype.toString.call(t[i]).toLowerCase()||t[i].length?t[i]=e[i]:g.util.json.merge(t[i],e[i]):t[i]=e[i];return t}},uuid:{newid:function(){return((new Date).getTime().toString(16)+Math.random().toString(16).substr(2)).substr(2,16)}},text:{is_empty:function(t){return!t||0==t.replace(/\s*/,"").length}}},g.prototype={init:function(){if(!this.inited){this.inited=!0;var t=this.options,e={mode:t.mode,hspace:t.layout.hspace,vspace:t.layout.vspace,pspace:t.layout.pspace},i={container:t.container,support_html:t.support_html,hmargin:t.view.hmargin,vmargin:t.view.vmargin,line_width:t.view.line_width,line_color:t.view.line_color};this.data=new g.data_provider(this),this.layout=new g.layout_provider(this,e),this.view=new g.view_provider(this,i),this.shortcut=new g.shortcut_provider(this,t.shortcut),this.data.init(),this.layout.init(),this.view.init(),this.shortcut.init(),this._event_bind(),g.init_plugins(this)}},enable_edit:function(){this.options.editable=!0},disable_edit:function(){this.options.editable=!1},enable_event_handle:function(t){this.options.default_event_handle["enable_"+t+"_handle"]=!0},disable_event_handle:function(t){this.options.default_event_handle["enable_"+t+"_handle"]=!1},get_editable:function(){return this.options.editable},set_theme:function(t){var e=this.options.theme;this.options.theme=t||null,e!=this.options.theme&&(this.view.reset_theme(),this.view.reset_custom_style())},_event_bind:function(){this.view.add_event(this,"mousedown",this.mousedown_handle),this.view.add_event(this,"click",this.click_handle),this.view.add_event(this,"dblclick",this.dblclick_handle)},mousedown_handle:function(t){if(this.options.default_event_handle.enable_mousedown_handle){var e=t.target||event.srcElement,i=this.view.get_binded_nodeid(e);i?this.select_node(i):this.select_clear()}},click_handle:function(t){if(this.options.default_event_handle.enable_click_handle){var e=t.target||event.srcElement;if(this.view.is_expander(e))if(i=this.view.get_binded_nodeid(e))return void this.toggle_node(i);if(!this.get_editable()){var i,n=this.options.onRelation;if(!n)return;(i=this.view.get_binded_nodeid(e))&&n(this.mind.selected)}}},dblclick_handle:function(t){if(this.options.default_event_handle.enable_dblclick_handle&&this.get_editable()){var e=t.target||event.srcElement,i=this.view.get_binded_nodeid(e);i&&this.begin_edit(i)}},begin_edit:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.begin_edit(e):(v.error("the node[id="+t+"] can not be found."),!1)}this.get_editable()?this.view.edit_node_begin(t):v.error("fail, this mind map is not editable.")},end_edit:function(){this.view.edit_node_end()},toggle_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.toggle_node(e):void v.error("the node[id="+t+"] can not be found.")}t.isroot||(this.view.save_location(t),this.layout.toggle_node(t),this.view.relayout(),this.view.restore_location(t))},expand_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.expand_node(e):void v.error("the node[id="+t+"] can not be found.")}t.isroot||(this.view.save_location(t),this.layout.expand_node(t),this.view.relayout(),this.view.restore_location(t))},collapse_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.collapse_node(e):void v.error("the node[id="+t+"] can not be found.")}t.isroot||(this.view.save_location(t),this.layout.collapse_node(t),this.view.relayout(),this.view.restore_location(t))},expand_all:function(){this.layout.expand_all(),this.view.relayout()},collapse_all:function(){this.layout.collapse_all(),this.view.relayout()},expand_to_depth:function(t){this.layout.expand_to_depth(t),this.view.relayout()},_reset:function(){this.view.reset(),this.layout.reset(),this.data.reset()},_show:function(t){var e=t||g.format.node_array.example;this.mind=this.data.load(e),this.mind?(v.debug("data.load ok"),this.view.load(),v.debug("view.load ok"),this.layout.layout(),v.debug("layout.layout ok"),this.view.show(!0),v.debug("view.show ok"),this.invoke_event_handle(g.event_type.show,{data:[t]})):v.error("data.load error")},show:function(t){this._reset(),this._show(t)},get_meta:function(){return{name:this.mind.name,author:this.mind.author,version:this.mind.version}},get_data:function(t){var e=t||"node_tree";return this.data.get_data(e)},get_root:function(){return this.mind.root},get_node:function(t){return this.mind.get_node(t)},add_node:function(t,e,i,n){if(this.get_editable()){var o=this.mind.add_node(t,e,i,n);return o&&(this.view.add_node(o),this.layout.layout(),this.view.show(!1),this.view.reset_node_custom_style(o),this.expand_node(t),this.invoke_event_handle(g.event_type.edit,{evt:"add_node",data:[t.id,e,i,n],node:e})),o}return v.error("fail, this mind map is not editable"),null},insert_node_before:function(t,e,i,n){if(this.get_editable()){var o=g.util.is_node(t)?t.id:t,s=this.mind.insert_node_before(t,e,i,n);return s&&(this.view.add_node(s),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(g.event_type.edit,{evt:"insert_node_before",data:[o,e,i,n],node:e})),s}return v.error("fail, this mind map is not editable"),null},insert_node_after:function(t,e,i,n){if(this.get_editable()){var o=g.util.is_node(t)?t.id:t,s=this.mind.insert_node_after(t,e,i,n);return s&&(this.view.add_node(s),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(g.event_type.edit,{evt:"insert_node_after",data:[o,e,i,n],node:e})),s}return v.error("fail, this mind map is not editable"),null},remove_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.remove_node(e):(v.error("the node[id="+t+"] can not be found."),!1)}if(this.get_editable()){if(t.isroot)return v.error("fail, can not remove root node"),!1;var i=t.id,n=t.parent.id,o=this.get_node(n);return this.view.save_location(o),this.view.remove_node(t),this.mind.remove_node(t),this.layout.layout(),this.view.show(!1),this.view.restore_location(o),this.invoke_event_handle(g.event_type.edit,{evt:"remove_node",data:[i],node:n}),!0}return v.error("fail, this mind map is not editable"),!1},update_node:function(t,e){if(this.get_editable())if(g.util.text.is_empty(e))v.warn("fail, topic can not be empty");else{var i=this.get_node(t);if(i){if(i.topic===e)return v.info("nothing changed"),void this.view.update_node(i);i.topic=e,this.view.update_node(i),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(g.event_type.edit,{evt:"update_node",data:[t,e],node:t})}}else v.error("fail, this mind map is not editable")},move_node:function(t,e,i,n){if(this.get_editable()){var o=this.mind.move_node(t,e,i,n);o&&(this.view.update_node(o),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(g.event_type.edit,{evt:"move_node",data:[t,e,i,n],node:t}))}else v.error("fail, this mind map is not editable")},select_node:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.select_node(e):void v.error("the node[id="+t+"] can not be found.")}this.layout.is_visible(t)&&(this.mind.selected=t,this.view.select_node(t))},get_selected_node:function(){return this.mind?this.mind.selected:null},select_clear:function(){this.mind&&(this.mind.selected=null,this.view.select_clear())},is_node_visible:function(t){return this.layout.is_visible(t)},find_node_before:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.find_node_before(e):void v.error("the node[id="+t+"] can not be found.")}if(t.isroot)return null;var i=null;if(t.parent.isroot)for(var n=t.parent.children,o=null,s=null,a=0;a<n.length;a++)s=n[a],t.direction===s.direction&&(t.id===s.id&&(i=o),o=s);else i=this.mind.get_node_before(t);return i},find_node_after:function(t){if(!g.util.is_node(t)){var e=this.get_node(t);return e?this.find_node_after(e):void v.error("the node[id="+t+"] can not be found.")}if(t.isroot)return null;var i=null;if(t.parent.isroot){for(var n=t.parent.children,o=!1,s=null,a=0;a<n.length;a++)if(s=n[a],t.direction===s.direction){if(o){i=s;break}t.id===s.id&&(o=!0)}}else i=this.mind.get_node_after(t);return i},set_node_color:function(t,e,i){if(!this.get_editable())return v.error("fail, this mind map is not editable"),null;var n=this.mind.get_node(t);n&&(e&&(n.data["background-color"]=e),i&&(n.data["foreground-color"]=i),this.view.reset_node_custom_style(n))},set_node_font_style:function(t,e,i,n){if(!this.get_editable())return v.error("fail, this mind map is not editable"),null;var o=this.mind.get_node(t);o&&(e&&(o.data["font-size"]=e),i&&(o.data["font-weight"]=i),n&&(o.data["font-style"]=n),this.view.reset_node_custom_style(o),this.view.update_node(o),this.layout.layout(),this.view.show(!1))},set_node_background_image:function(t,e,i,n,o){if(!this.get_editable())return v.error("fail, this mind map is not editable"),null;var s=this.mind.get_node(t);s&&(e&&(s.data["background-image"]=e),i&&(s.data.width=i),n&&(s.data.height=n),o&&(s.data["background-rotation"]=o),this.view.reset_node_custom_style(s),this.view.update_node(s),this.layout.layout(),this.view.show(!1))},set_node_background_rotation:function(t,e){if(!this.get_editable())return v.error("fail, this mind map is not editable"),null;var i=this.mind.get_node(t);if(i){if(!i.data["background-image"])return v.error("fail, only can change rotation angle of node with background image"),null;i.data["background-rotation"]=e,this.view.reset_node_custom_style(i),this.view.update_node(i),this.layout.layout(),this.view.show(!1)}},resize:function(){this.view.resize()},add_event_listener:function(t){"function"==typeof t&&this.event_handles.push(t)},invoke_event_handle:function(t,e){var i=this;l.setTimeout(function(){i._invoke_event_handle(t,e)},0)},_invoke_event_handle:function(t,e){for(var i=this.event_handles.length,n=0;n<i;n++)this.event_handles[n](t,e)}},g.data_provider=function(t){this.jm=t},g.data_provider.prototype={init:function(){v.debug("data.init")},reset:function(){v.debug("data.reset")},load:function(t){var e=null,i=null;return"node_array"==(e="object"==typeof t?t.format?t.format:"node_tree":"freemind")?i=g.format.node_array.get_mind(t):"node_tree"==e?i=g.format.node_tree.get_mind(t):"freemind"==e?i=g.format.freemind.get_mind(t):v.warn("unsupported format"),i},get_data:function(t){var e=null;return"node_array"==t?e=g.format.node_array.get_data(this.jm.mind):"node_tree"==t?e=g.format.node_tree.get_data(this.jm.mind):"freemind"==t?e=g.format.freemind.get_data(this.jm.mind):v.error("unsupported "+t+" format"),e}},g.layout_provider=function(t,e){this.opts=e,this.jm=t,this.isside="side"==this.opts.mode,this.bounds=null,this.cache_valid=!1},g.layout_provider.prototype={init:function(){v.debug("layout.init")},reset:function(){v.debug("layout.reset"),this.bounds={n:0,s:0,w:0,e:0}},layout:function(){v.debug("layout.layout"),this.layout_direction(),this.layout_offset()},layout_direction:function(){this._layout_direction_root()},_layout_direction_root:function(){var t=this.jm.mind.root,e=null;"layout"in t._data?e=t._data.layout:(e={},t._data.layout=e);var i=t.children,n=i.length;if(e.direction=g.direction.center,e.side_index=0,this.isside)for(var o=n;o--;)this._layout_direction_side(i[o],g.direction.right,o);else{o=n;for(var s=null;o--;)(s=i[o]).direction==g.direction.left?this._layout_direction_side(s,g.direction.left,o):this._layout_direction_side(s,g.direction.right,o)}},_layout_direction_side:function(t,e,i){var n=null;"layout"in t._data?n=t._data.layout:(n={},t._data.layout=n);var o=t.children,s=o.length;n.direction=e,n.side_index=i;for(var a=s;a--;)this._layout_direction_side(o[a],e,a)},layout_offset:function(){var t=this.jm.mind.root,e=t._data.layout;e.offset_x=0,e.offset_y=0,e.outer_height=0;for(var i=t.children,n=i.length,o=[],s=[],a=null;n--;)(a=i[n])._data.layout.direction==g.direction.right?s.unshift(a):o.unshift(a);e.left_nodes=o,e.right_nodes=s,e.outer_height_left=this._layout_offset_subnodes(o),e.outer_height_right=this._layout_offset_subnodes(s),this.bounds.e=t._data.view.width/2,this.bounds.w=0-this.bounds.e,this.bounds.n=0,this.bounds.s=Math.max(e.outer_height_left,e.outer_height_right)},_layout_offset_subnodes:function(t){for(var e=0,i=t.length,n=i,o=null,s=0,a=null,r=0,l=null;n--;)a=(o=t[n])._data.layout,null==l&&(l=o.parent._data),s=this._layout_offset_subnodes(o.children),o.expanded||(s=0,this.set_visible(o.children,!1)),s=Math.max(o._data.view.height,s),a.outer_height=s,a.offset_y=r-s/2,a.offset_x=this.opts.hspace*a.direction+l.view.width*(l.layout.direction+a.direction)/2,o.parent.isroot||(a.offset_x+=this.opts.pspace*a.direction),r=r-s-this.opts.vspace,e+=s;1<i&&(e+=this.opts.vspace*(i-1)),n=i;for(var d=e/2;n--;)(o=t[n])._data.layout.offset_y+=d;return e},_layout_offset_subnodes_height:function(t){for(var e=0,i=t.length,n=i,o=null,s=0,a=null,r=0,l=null;n--;)a=(o=t[n])._data.layout,null==l&&(l=o.parent._data),s=this._layout_offset_subnodes_height(o.children),o.expanded||(s=0),s=Math.max(o._data.view.height,s),a.outer_height=s,a.offset_y=r-s/2,r=r-s-this.opts.vspace,e+=s;1<i&&(e+=this.opts.vspace*(i-1)),n=i;for(var d=e/2;n--;)(o=t[n])._data.layout.offset_y+=d;return e},get_node_offset:function(t){var e=t._data.layout,i=null;if("_offset_"in e&&this.cache_valid?i=e._offset_:(i={x:-1,y:-1},e._offset_=i),-1==i.x||-1==i.y){var n=e.offset_x,o=e.offset_y;if(!t.isroot){var s=this.get_node_offset(t.parent);n+=s.x,o+=s.y}i.x=n,i.y=o}return i},get_node_point:function(t){var e=t._data.view,i=this.get_node_offset(t),n={};return n.x=i.x+e.width*(t._data.layout.direction-1)/2,n.y=i.y-e.height/2,n},get_node_point_in:function(t){return this.get_node_offset(t)},get_node_point_out:function(t){var e=t._data.layout,i=null;if("_pout_"in e&&this.cache_valid?i=e._pout_:(i={x:-1,y:-1},e._pout_=i),-1==i.x||-1==i.y)if(t.isroot)i.x=0,i.y=0;else{var n=t._data.view,o=this.get_node_offset(t);i.x=o.x+(n.width+this.opts.pspace)*t._data.layout.direction,i.y=o.y}return i},get_expander_point:function(t){var e=this.get_node_point_out(t),i={};return t._data.layout.direction==g.direction.right?i.x=e.x-this.opts.pspace:i.x=e.x,i.y=e.y-Math.ceil(this.opts.pspace/2),i},get_min_size:function(){var t=this.jm.mind.nodes,e=null,i=null;for(var n in t)e=t[n],(i=this.get_node_point_out(e)).x>this.bounds.e&&(this.bounds.e=i.x),i.x<this.bounds.w&&(this.bounds.w=i.x);return{w:this.bounds.e-this.bounds.w,h:this.bounds.s-this.bounds.n}},toggle_node:function(t){t.isroot||(t.expanded?this.collapse_node(t):this.expand_node(t))},expand_node:function(t){t.expanded=!0,this.part_layout(t),this.set_visible(t.children,!0),this.toggleBadge(t.children,!0)},collapse_node:function(t){t.expanded=!1,this.part_layout(t),this.set_visible(t.children,!1),this.toggleBadge(t.children,!1)},toggleBadge:function(t,i){var n=this;t.forEach(function(t){if(!0===n.jm.is_node_visible(t))return!0;var e=$('div.leo-badge[nodeid$="'+t.id+'"]');!0===i?e.show():e.hide()})},expand_all:function(){var t,e=this.jm.mind.nodes,i=0;for(var n in e)(t=e[n]).expanded||(t.expanded=!0,i++);if(0<i){var o=this.jm.mind.root;this.part_layout(o),this.set_visible(o.children,!0)}},collapse_all:function(){var t,e=this.jm.mind.nodes,i=0;for(var n in e)(t=e[n]).expanded&&!t.isroot&&(t.expanded=!1,i++);if(0<i){var o=this.jm.mind.root;this.part_layout(o),this.set_visible(o.children,!0)}},expand_to_depth:function(t,e,i){if(!(t<1))for(var n=e||this.jm.mind.root.children,o=i||1,s=n.length,a=null;s--;)a=n[s],o<t&&(a.expanded||this.expand_node(a),this.expand_to_depth(t,a.children,o+1)),o==t&&a.expanded&&this.collapse_node(a)},part_layout:function(t){var e=this.jm.mind.root;if(e){var i=e._data.layout;t.isroot?(i.outer_height_right=this._layout_offset_subnodes_height(i.right_nodes),i.outer_height_left=this._layout_offset_subnodes_height(i.left_nodes)):t._data.layout.direction==g.direction.right?i.outer_height_right=this._layout_offset_subnodes_height(i.right_nodes):i.outer_height_left=this._layout_offset_subnodes_height(i.left_nodes),this.bounds.s=Math.max(i.outer_height_left,i.outer_height_right),this.cache_valid=!1}else v.warn("can not found root node")},set_visible:function(t,e){for(var i=t.length,n=null;i--;)(n=t[i])._data.layout,n.expanded?this.set_visible(n.children,e):this.set_visible(n.children,!1),n.isroot||(n._data.layout.visible=e)},is_expand:function(t){return t.expanded},is_visible:function(t){var e=t._data.layout;return!("visible"in e&&!e.visible)}},g.view_provider=function(t,e){this.opts=e,this.jm=t,this.layout=t.layout,this.container=null,this.e_panel=null,this.e_nodes=null,this.e_canvas=null,this.canvas_ctx=null,this.size={w:0,h:0},this.selected_node=null,this.editing_node=null},g.view_provider.prototype={init:function(){var t,e;if(v.debug("view.init"),this.container=(e=this.opts.container)&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument?this.opts.container:(t=this.opts.container,d.getElementById(t)),this.container){this.e_panel=h("div"),this.e_canvas=h("canvas"),this.e_nodes=h("jmnodes"),this.e_editor=h("input"),this.e_panel.className="jsmind-inner",this.e_panel.appendChild(this.e_canvas),this.e_panel.appendChild(this.e_nodes),this.e_editor.className="jsmind-editor",this.e_editor.type="text",this.actualZoom=1,this.zoomStep=.1,this.minZoom=.5,this.maxZoom=2;var i=this;g.util.dom.add_event(this.e_editor,"keydown",function(t){var e=t||event;13==e.keyCode&&(i.edit_node_end(),e.stopPropagation())}),g.util.dom.add_event(this.e_editor,"blur",function(t){i.edit_node_end()}),this.container.appendChild(this.e_panel),this.init_canvas()}else v.error("the options.view.container was not be found in dom")},add_event:function(i,t,n){g.util.dom.add_event(this.e_nodes,t,function(t){var e=t||event;n.call(i,e)})},get_binded_nodeid:function(t){if(null==t)return null;var e=t.tagName.toLowerCase();return"jmnodes"==e||"body"==e||"html"==e?null:"jmnode"==e||"jmexpander"==e?t.getAttribute("nodeid"):this.get_binded_nodeid(t.parentElement)},is_expander:function(t){return"jmexpander"==t.tagName.toLowerCase()},reset:function(){v.debug("view.reset"),this.selected_node=null,this.clear_lines(),this.clear_nodes(),this.reset_theme()},reset_theme:function(){var t=this.jm.options.theme;this.e_nodes.className=t?"theme-"+t:""},reset_custom_style:function(){var t=this.jm.mind.nodes;for(var e in t)this.reset_node_custom_style(t[e])},load:function(){v.debug("view.load"),this.init_nodes()},expand_size:function(){var t=this.layout.get_min_size(),e=t.w+2*this.opts.hmargin,i=t.h+2*this.opts.vmargin,n=this.e_panel.clientWidth,o=this.e_panel.clientHeight;n<e&&(n=e),o<i&&(o=i),this.size.w=n,this.size.h=o},init_canvas:function(){var t=this.e_canvas.getContext("2d");this.canvas_ctx=t},init_nodes_size:function(t){var e=t._data.view;e.width=e.element.clientWidth,e.height=e.element.clientHeight},init_nodes:function(){var t=this.jm.mind.nodes,e=d.createDocumentFragment();for(var i in t)this.create_node_element(t[i],e);for(var i in this.e_nodes.appendChild(e),t)this.init_nodes_size(t[i])},add_node:function(t){this.create_node_element(t,this.e_nodes),this.init_nodes_size(t)},create_node_element:function(t,e){var i=null;"view"in t._data?i=t._data.view:(i={},t._data.view=i);var n=h("jmnode");if(t.isroot)n.className="root";else{var o=h("jmexpander");c(o,"-"),o.setAttribute("nodeid",t.id),o.style.visibility="hidden",e.appendChild(o),i.expander=o}t.topic&&(this.opts.support_html?a(n,t.topic):c(n,t.topic));var s=h("div");s.className="leo-badge",e.appendChild(s),c(s,t._data.badge),s.setAttribute("nodeid",t.id),s.style.visibility="hidden",i.badge=s,n.setAttribute("nodeid",t.id),n.style.visibility="hidden",this._reset_node_custom_style(n,t.data),e.appendChild(n),i.element=n},remove_node:function(t){null!=this.selected_node&&this.selected_node.id==t.id&&(this.selected_node=null),null!=this.editing_node&&this.editing_node.id==t.id&&(t._data.view.element.removeChild(this.e_editor),this.editing_node=null);for(var e=t.children,i=e.length;i--;)this.remove_node(e[i]);if(t._data.view){var n=t._data.view.element,o=t._data.view.expander;this.e_nodes.removeChild(n),this.e_nodes.removeChild(o),t._data.view.element=null,t._data.view.expander=null}},update_node:function(t){var e=t._data.view,i=e.element;t.topic&&(this.opts.support_html?a(i,t.topic):c(i,t.topic)),e.width=i.clientWidth,e.height=i.clientHeight},select_node:function(t){this.selected_node&&(this.selected_node._data.view.element.className=this.selected_node._data.view.element.className.replace(/\s*selected\b/i,""),this.reset_node_custom_style(this.selected_node)),t&&((this.selected_node=t)._data.view.element.className+=" selected",this.clear_node_custom_style(t))},select_clear:function(){this.select_node(null)},get_editing_node:function(){return this.editing_node},is_editing:function(){return!!this.editing_node},edit_node_begin:function(t){if(t.topic){null!=this.editing_node&&this.edit_node_end();var e=(this.editing_node=t)._data.view.element,i=t.topic,n=getComputedStyle(e);this.e_editor.value=i,this.e_editor.style.width=e.clientWidth-parseInt(n.getPropertyValue("padding-left"))-parseInt(n.getPropertyValue("padding-right"))+"px",e.innerHTML="",e.appendChild(this.e_editor),e.style.zIndex=5,this.e_editor.focus(),this.e_editor.select()}else v.warn("don't edit image nodes")},edit_node_end:function(){if(null!=this.editing_node){var t=this.editing_node;this.editing_node=null;var e=t._data.view.element,i=this.e_editor.value;e.style.zIndex="auto",e.removeChild(this.e_editor),g.util.text.is_empty(i)||t.topic===i?this.opts.support_html?a(e,t.topic):c(e,t.topic):this.jm.update_node(t.id,i)}},get_view_offset:function(){var t=this.layout.bounds;return{x:(this.size.w-t.e-t.w)/2,y:this.size.h/2}},resize:function(){this.e_canvas.width=1,this.e_canvas.height=1,this.e_nodes.style.width="1px",this.e_nodes.style.height="1px",this.expand_size(),this._show()},_show:function(){this.e_canvas.width=this.size.w,this.e_canvas.height=this.size.h,this.e_nodes.style.width=this.size.w+"px",this.e_nodes.style.height=this.size.h+"px",this.show_nodes(),this.show_lines(),this.jm.invoke_event_handle(g.event_type.resize,{data:[]})},zoomIn:function(){return this.setZoom(this.actualZoom+this.zoomStep)},zoomOut:function(){return this.setZoom(this.actualZoom-this.zoomStep)},setZoom:function(t){if(t<this.minZoom||t>this.maxZoom)return!1;this.actualZoom=t;for(var e=0;e<this.e_panel.children.length;e++)this.e_panel.children[e].style.transform="scale("+t+")";return this.show(!0),!0},_center_root:function(){var t=this.e_panel.clientWidth,e=this.e_panel.clientHeight;if(this.size.w>t){var i=this.get_view_offset();this.e_panel.scrollLeft=i.x-t/2}this.size.h>e&&(this.e_panel.scrollTop=(this.size.h-e)/2)},show:function(t){v.debug("view.show"),this.expand_size(),this._show(),t&&this._center_root()},relayout:function(){this.expand_size(),this._show()},save_location:function(t){var e=t._data.view;e._saved_location={x:parseInt(e.element.style.left)-this.e_panel.scrollLeft,y:parseInt(e.element.style.top)-this.e_panel.scrollTop}},restore_location:function(t){var e=t._data.view;this.e_panel.scrollLeft=parseInt(e.element.style.left)-e._saved_location.x,this.e_panel.scrollTop=parseInt(e.element.style.top)-e._saved_location.y},clear_nodes:function(){var t=this.jm.mind;if(null!=t){var e=t.nodes,i=null;for(var n in e)(i=e[n])._data.view.element=null,i._data.view.expander=null;this.e_nodes.innerHTML=""}},show_nodes:function(){var t=this.jm.mind.nodes,e=null,i=null,n=null,o=null,s=null,a="-",r=null,l=this.get_view_offset();for(var d in t)if(i=(r=(e=t[d])._data.view).element,n=r.expander,this.layout.is_visible(e)){if(this.reset_node_custom_style(e),o=this.layout.get_node_point(e),r.abs_x=l.x+o.x,r.abs_y=l.y+o.y,i.style.left=l.x+o.x+"px",i.style.top=l.y+o.y+"px",i.style.display="",i.style.visibility="visible",s=this.layout.get_expander_point(e),!e.isroot&&0<e.children.length&&(a=e.expanded?"-":"+",n.style.left=l.x+s.x+"px",n.style.top=l.y+s.y+"px",n.style.display="",n.style.visibility="visible",c(n,a)),e.isroot||0!=e.children.length||(n.style.display="none",n.style.visibility="hidden"),e.data.badge&&!(e.data.badge<1)){var h=r.badge;h.style.left=l.x+s.x-10+"px",h.style.top=l.y+s.y-20+"px",h.style.display="",h.style.visibility="visible",c(h,e.data.badge)}}else i.style.display="none",n.style.display="none"},reset_node_custom_style:function(t){this._reset_node_custom_style(t._data.view.element,t.data)},_reset_node_custom_style:function(i,t){if("background-color"in t&&(i.style.backgroundColor=t["background-color"]),"foreground-color"in t&&(i.style.color=t["foreground-color"]),"width"in t&&(i.style.width=t.width+"px"),"height"in t&&(i.style.height=t.height+"px"),"font-size"in t&&(i.style.fontSize=t["font-size"]+"px"),"font-weight"in t&&(i.style.fontWeight=t["font-weight"]),"font-style"in t&&(i.style.fontStyle=t["font-style"]),"background-image"in t){var e=t["background-image"];if(e.startsWith("data")&&t.width&&t.height){var n=new Image;n.onload=function(){var t=h("canvas");t.width=i.clientWidth,t.height=i.clientHeight;if(t.getContext){t.getContext("2d").drawImage(this,2,2,i.clientWidth,i.clientHeight);var e=t.toDataURL();i.style.backgroundImage="url("+e+")"}},n.src=e}else i.style.backgroundImage="url("+e+")";i.style.backgroundSize="99%","background-rotation"in t&&(i.style.transform="rotate("+t["background-rotation"]+"deg)")}},clear_node_custom_style:function(t){var e=t._data.view.element;e.style.backgroundColor="",e.style.color=""},clear_lines:function(t){var e=t||this.canvas_ctx;g.util.canvas.clear(e,0,0,this.size.w,this.size.h)},show_lines:function(t){this.clear_lines(t);var e=this.jm.mind.nodes,i=null,n=null,o=null,s=this.get_view_offset();for(var a in e)(i=e[a]).isroot||"visible"in i._data.layout&&!i._data.layout.visible||(n=this.layout.get_node_point_in(i),o=this.layout.get_node_point_out(i.parent),this.draw_line(o,n,s,t))},draw_line:function(t,e,i,n){var o=n||this.canvas_ctx;o.strokeStyle=this.opts.line_color,o.lineWidth=this.opts.line_width,o.lineCap="round",g.util.canvas.bezierto(o,t.x+i.x,t.y+i.y,e.x+i.x,e.y+i.y)}},g.shortcut_provider=function(t,e){this.jm=t,this.opts=e,this.mapping=e.mapping,this.handles=e.handles,this._mapping={}},g.shortcut_provider.prototype={init:function(){for(var t in g.util.dom.add_event(d,"keydown",this.handler.bind(this)),this.handles.addchild=this.handle_addchild,this.handles.addbrother=this.handle_addbrother,this.handles.editnode=this.handle_editnode,this.handles.delnode=this.handle_delnode,this.handles.toggle=this.handle_toggle,this.handles.up=this.handle_up,this.handles.down=this.handle_down,this.handles.left=this.handle_left,this.handles.right=this.handle_right,this.mapping)this.mapping[t]&&t in this.handles&&(this._mapping[this.mapping[t]]=this.handles[t])},enable_shortcut:function(){this.opts.enable=!0},disable_shortcut:function(){this.opts.enable=!1},handler:function(t){if(!this.jm.view.is_editing()){var e=t||event;if(!this.opts.enable)return!0;var i=e.keyCode;i in this._mapping&&this._mapping[i].call(this,this.jm,t)}},handle_addchild:function(t,e){var i=t.get_selected_node();if(i){var n=g.util.uuid.newid();t.add_node(i,n,"New Node")&&(t.select_node(n),t.begin_edit(n))}},handle_addbrother:function(t,e){var i=t.get_selected_node();if(i&&!i.isroot){var n=g.util.uuid.newid();t.insert_node_after(i,n,"New Node")&&(t.select_node(n),t.begin_edit(n))}},handle_editnode:function(t,e){var i=t.get_selected_node();i&&t.begin_edit(i)},handle_delnode:function(t,e){var i=t.get_selected_node();i&&!i.isroot&&(t.select_node(i.parent),t.remove_node(i))},handle_toggle:function(t,e){var i=e||event,n=t.get_selected_node();n&&(t.toggle_node(n.id),i.stopPropagation(),i.preventDefault())},handle_up:function(t,e){var i=e||event,n=t.get_selected_node();if(n){var o=t.find_node_before(n);if(!o){var s=t.find_node_before(n.parent);s&&0<s.children.length&&(o=s.children[s.children.length-1])}o&&t.select_node(o),i.stopPropagation(),i.preventDefault()}},handle_down:function(t,e){var i=e||event,n=t.get_selected_node();if(n){var o=t.find_node_after(n);if(!o){var s=t.find_node_after(n.parent);s&&0<s.children.length&&(o=s.children[0])}o&&t.select_node(o),i.stopPropagation(),i.preventDefault()}},handle_left:function(t,e){this._handle_direction(t,e,g.direction.left)},handle_right:function(t,e){this._handle_direction(t,e,g.direction.right)},_handle_direction:function(t,e,i){var n=e||event,o=t.get_selected_node(),s=null;if(o){if(o.isroot){for(var a=o.children,r=[],l=0;l<a.length;l++)a[l].direction===i&&r.push(l);s=a[r[Math.floor((r.length-1)/2)]]}else if(o.direction===i){var d=(r=o.children).length;0<d&&(s=r[Math.floor((d-1)/2)])}else s=o.parent;s&&t.select_node(s),n.stopPropagation(),n.preventDefault()}}},g.plugin=function(t,e){this.name=t,this.init=e},g.plugins=[],g.register_plugin=function(t){t instanceof g.plugin&&g.plugins.push(t)},g.init_plugins=function(t){l.setTimeout(function(){g._init_plugins(t)},0)},g._init_plugins=function(t){for(var e=g.plugins.length,i=null,n=0;n<e;n++)"function"==typeof(i=g.plugins[n].init)&&i(t)},g.show=function(t,e){var i=new g(t);return i.show(e),i},l[t]=g}else v.log(t+" has been already exist.")}(window),function(a){"use strict";var i=a.document,k=a.jsMind;if(k&&void 0===k.draggable){var e=k.util.dom,n=k.util.canvas,o="getSelection"in a?function(){a.getSelection().removeAllRanges()}:function(){i.selection.empty()},x=5,r=500,l=80;k.draggable=function(t){this.jm=t,this.e_canvas=null,this.canvas_ctx=null,this.shadow=null,this.shadow_w=0,this.shadow_h=0,this.active_node=null,this.target_node=null,this.target_direct=null,this.client_w=0,this.client_h=0,this.offset_x=0,this.offset_y=0,this.hlookup_delay=0,this.hlookup_timer=0,this.capture=!1,this.moved=!1},k.draggable.prototype={init:function(){this._create_canvas(),this._create_shadow(),this._event_bind()},resize:function(){this.jm.view.e_nodes.appendChild(this.shadow),this.e_canvas.width=this.jm.view.size.w,this.e_canvas.height=this.jm.view.size.h},_create_canvas:function(){var t=i.createElement("canvas");this.jm.view.e_panel.appendChild(t);var e=t.getContext("2d");this.e_canvas=t,this.canvas_ctx=e},_create_shadow:function(){var t=i.createElement("jmnode");t.style.visibility="hidden",t.style.zIndex="3",t.style.cursor="move",t.style.opacity="0.7",this.shadow=t},reset_shadow:function(t){var e=this.shadow.style;this.shadow.innerHTML=t.innerHTML,e.left=t.style.left,e.top=t.style.top,e.width=t.style.width,e.height=t.style.height,e.backgroundImage=t.style.backgroundImage,e.backgroundSize=t.style.backgroundSize,e.transform=t.style.transform,this.shadow_w=this.shadow.clientWidth,this.shadow_h=this.shadow.clientHeight},show_shadow:function(){this.moved||(this.shadow.style.visibility="visible")},hide_shadow:function(){this.shadow.style.visibility="hidden"},clear_lines:function(){n.clear(this.canvas_ctx,0,0,this.jm.view.size.w,this.jm.view.size.h)},_magnet_shadow:function(t){t&&(this.canvas_ctx.lineWidth=x,this.canvas_ctx.strokeStyle="rgba(0,0,0,0.3)",this.canvas_ctx.lineCap="round",this.clear_lines(),n.lineto(this.canvas_ctx,t.sp.x,t.sp.y,t.np.x,t.np.y))},_lookup_close_node:function(){var t,e,i=this.jm.get_root(),n=i.get_location(),o=i.get_size(),s=n.x+o.w/2,a=this.shadow_w,r=this.shadow_h,l=this.shadow.offsetLeft,d=this.shadow.offsetTop,h=s<=l+a/2?k.direction.right:k.direction.left,c=this.jm.mind.nodes,u=null,p=Number.MAX_VALUE,f=0,v=null,g=null,m=null;for(var _ in c){var y,w;if((u=c[_]).isroot||u.direction==h){if(u.id==this.active_node.id)continue;if(t=u.get_size(),e=u.get_location(),h==k.direction.right){if(l-e.x-t.w<=0)continue;f=Math.abs(l-e.x-t.w)+Math.abs(d+r/2-e.y-t.h/2),y={x:e.x+t.w-x,y:e.y+t.h/2},w={x:l+x,y:d+r/2}}else{if(e.x-l-a<=0)continue;f=Math.abs(l+a-e.x)+Math.abs(d+r/2-e.y-t.h/2),y={x:e.x+x,y:e.y+t.h/2},w={x:l+a-x,y:d+r/2}}f<p&&(v=u,g=y,m=w,p=f)}}var b=null;return v&&(b={node:v,direction:h,sp:m,np:g}),b},lookup_close_node:function(){var t=this._lookup_close_node();t&&(this._magnet_shadow(t),this.target_node=t.node,this.target_direct=t.direction)},_event_bind:function(){var i=this,t=this.jm.view.container;e.add_event(t,"contextmenu",function(t){var e=t||event;i.dragend.call(i,e)}),e.add_event(t,"mousedown",function(t){$conTextMenu.hide();var e=t||event;i.dragstart.call(i,e)}),e.add_event(t,"mousemove",function(t){var e=t||event;i.drag.call(i,e)}),e.add_event(t,"mouseup",function(t){var e=t||event;i.dragend.call(i,e)}),e.add_event(t,"touchstart",function(t){var e=t||event;i.dragstart.call(i,e)}),e.add_event(t,"touchmove",function(t){var e=t||event;i.drag.call(i,e)}),e.add_event(t,"touchend",function(t){var e=t||event;i.dragend.call(i,e)})},dragstart:function(t){if(this.jm.get_editable()&&!this.capture){this.active_node=null;var e=this.jm.view,i=t.target||event.srcElement;if("jmnode"==i.tagName.toLowerCase()){var n=e.get_binded_nodeid(i);if(n){var o=this.jm.get_node(n);if(!o.isroot){this.reset_shadow(i),this.active_node=o,this.offset_x=(t.clientX||t.touches[0].clientX)-i.offsetLeft,this.offset_y=(t.clientY||t.touches[0].clientY)-i.offsetTop,this.client_hw=Math.floor(i.clientWidth/2),this.client_hh=Math.floor(i.clientHeight/2),0!=this.hlookup_delay&&a.clearTimeout(this.hlookup_delay),0!=this.hlookup_timer&&a.clearInterval(this.hlookup_timer);var s=this;this.hlookup_delay=a.setTimeout(function(){s.hlookup_delay=0,s.hlookup_timer=a.setInterval(function(){s.lookup_close_node.call(s)},l)},r),this.capture=!0}}}}},drag:function(t){if(this.jm.get_editable()&&this.capture){t.preventDefault(),this.show_shadow(),this.moved=!0,o();var e=(t.clientX||t.touches[0].clientX)-this.offset_x,i=(t.clientY||t.touches[0].clientY)-this.offset_y;this.client_hw,this.client_hh;this.shadow.style.left=e+"px",this.shadow.style.top=i+"px",o()}},dragend:function(t){if(this.jm.get_editable()){if(this.capture){if(0!=this.hlookup_delay&&(a.clearTimeout(this.hlookup_delay),this.hlookup_delay=0,this.clear_lines()),0!=this.hlookup_timer&&(a.clearInterval(this.hlookup_timer),this.hlookup_timer=0,this.clear_lines()),this.moved){var e=this.active_node,i=this.target_node,n=this.target_direct;this.move_node(e,i,n)}this.hide_shadow()}this.moved=!1,this.capture=!1}},move_node:function(t,e,i){var n=this.shadow.offsetTop;if(e&&t&&!k.node.inherited(t,e)){for(var o=e.children,s=o.length,a=null,r=Number.MAX_VALUE,l=null,d="_last_";s--;)if((a=o[s]).direction==i&&a.id!=t.id){var h=a.get_location().y-n;0<h&&h<r&&(r=h,l=a,d="_first_")}l&&(d=l.id),this.jm.move_node(t.id,d,e.id,i)}this.active_node=null,this.target_node=null,this.target_direct=null},jm_event_handle:function(t,e){t===k.event_type.resize&&this.resize()}};var t=new k.plugin("draggable",function(t){var i=new k.draggable(t);i.init(),t.add_event_listener(function(t,e){i.jm_event_handle.call(i,t,e)})});k.register_plugin(t)}}(window),function(a){"use strict";var n=a.jsMind;if(n&&void 0===n.screenshot){var r=a.document,l=function(t){return r.createElement(t)},y=function(t,e){return t.getPropertyValue(e)},w=function(t){var e=y(t,"visibility"),i=y(t,"display");return"hidden"!==e&&"none"!==i},b=n.util.canvas;b.rect=function(t,e,i,n,o,s){n<2*s&&(s=n/2),o<2*s&&(s=o/2),t.moveTo(e+s,i),t.arcTo(e+n,i,e+n,i+o,s),t.arcTo(e+n,i+o,e,i+o,s),t.arcTo(e,i+o,e,i,s),t.arcTo(e,i,e+n,i,s)},b.text_multiline=function(t,e,i,n,o,s,a){var r="",l=e.length,d=e.split(""),h=null;t.textAlign="left",t.textBaseline="top";for(var c=0;c<l;c++)h=r+d[c],t.measureText(h).width>o&&0<c?(t.fillText(r,i,n),r=d[c],n+=a):r=h;t.fillText(r,i,n)},b.text_ellipsis=function(t,e,i,n,o,s){var a=n+s/2;e=b.fittingString(t,e,o);t.textAlign="left",t.textBaseline="middle",t.fillText(e,i,a,o)},b.fittingString=function(t,e,i){var n=t.measureText(e).width,o=t.measureText("…").width;if(n<=i||n<=o)return e;for(var s=e.length;i-o<=n&&0<s--;)e=e.substring(0,s),n=t.measureText(e).width;return e+"…"},b.image=function(t,e,i,n,o,s,a,r,l){var d=new Image;d.onload=function(){t.save(),t.translate(i,n),t.save(),t.beginPath(),b.rect(t,0,0,o,s,a),t.closePath(),t.clip(),t.translate(o/2,s/2),t.rotate(r*Math.PI/180),t.drawImage(d,-o/2,-s/2),t.restore(),t.restore(),l()},d.src=e},n.screenshot=function(t){this.jm=t,this.canvas_elem=null,this.canvas_ctx=null,this._inited=!1},n.screenshot.prototype={init:function(){if(!this._inited){console.log("init");var t=l("canvas"),e=t.getContext("2d");this.canvas_elem=t,this.canvas_ctx=e,this.jm.view.e_panel.appendChild(t),this._inited=!0,this.resize()}},shoot:function(t){this.init(),this._watermark();var e=this;this._draw(function(){t&&t(e),e.clean()})},shootDownload:function(){this.shoot(function(t){t._download()})},shootAsDataURL:function(e){this.shoot(function(t){e(t.canvas_elem.toDataURL())})},resize:function(){this._inited&&(this.canvas_elem.width=this.jm.view.size.w,this.canvas_elem.height=this.jm.view.size.h)},clean:function(){var t=this.canvas_elem;this.canvas_ctx.clearRect(0,0,t.width,t.height)},_draw:function(t){var e=this.canvas_ctx;e.textAlign="left",e.textBaseline="top",this._draw_lines(),this._draw_nodes(t)},_watermark:function(){var t=this.canvas_elem,e=this.canvas_ctx;e.textAlign="right",e.textBaseline="bottom",e.fillStyle="#000",e.font="11px Verdana,Arial,Helvetica,sans-serif",e.fillText("hizzgdev.github.io/jsmind",t.width-5.5,t.height-2.5),e.textAlign="left",e.fillText(a.location,5.5,t.height-2.5)},_draw_lines:function(){this.jm.view.show_lines(this.canvas_ctx)},_draw_nodes:function(n){var o,s=this.jm.mind.nodes;for(var t in s)o=s[t],this._draw_node(o);!function t(){console.log("check_node_ready"+new Date);var e=!0;for(var i in s)e&=(o=s[i]).ready;e?a.setTimeout(n,200):a.setTimeout(t,200)}()},_draw_node:function(t){var e=this.canvas_ctx,i=t._data.view,n=i.element,o=getComputedStyle(n);if(w(o)){var s=y(o,"background-color"),a=parseInt(y(o,"border-top-left-radius")),r=y(o,"color"),l=parseInt(y(o,"padding-left")),d=parseInt(y(o,"padding-right")),h=parseInt(y(o,"padding-top")),c=parseInt(y(o,"padding-bottom")),u=y(o,"text-overflow"),p=y(o,"font-style")+" "+y(o,"font-variant")+" "+y(o,"font-weight")+" "+y(o,"font-size")+"/"+y(o,"line-height")+" "+y(o,"font-family"),f={x:i.abs_x,y:i.abs_y,w:i.width+1,h:i.height+1},v={x:f.x+l,y:f.y+h,w:f.w-l-d,h:f.h-h-c};if(e.font=p,e.fillStyle=s,e.beginPath(),b.rect(e,f.x,f.y,f.w,f.h,a),e.closePath(),e.fill(),e.fillStyle=r,"background-image"in t.data){var g=y(o,"background-image").slice(5,-2);t.ready=!1;var m=0;"background-rotation"in t.data&&(m=t.data["background-rotation"]),b.image(e,g,f.x,f.y,f.w,f.h,a,m,function(){t.ready=!0})}if(t.topic)if("ellipsis"===u)b.text_ellipsis(e,t.topic,v.x,v.y,v.w,v.h);else{var _=parseInt(y(o,"line-height"));b.text_multiline(e,t.topic,v.x,v.y,v.w,v.h,_)}i.expander&&this._draw_expander(i.expander),"background-image"in t.data||(t.ready=!0)}else t.ready=!0},_draw_expander:function(t){var e=this.canvas_ctx,i=getComputedStyle(t);if(w(i)){var n=y(i,"left"),o=y(i,"top"),s=(y(i,"font"),parseInt(n)),a=parseInt(o),r="+"===t.innerHTML;e.lineWidth=1,e.beginPath(),e.arc(s+7,a+7,5,0,2*Math.PI,!0),e.moveTo(s+10,a+7),e.lineTo(s+4,a+7),r&&(e.moveTo(s+7,a+4),e.lineTo(s+7,a+10)),e.closePath(),e.stroke()}},_download:function(){var t=this.canvas_elem,e=this.jm.mind.name+".png";if(navigator.msSaveBlob&&t.msToBlob){var i=t.msToBlob();navigator.msSaveBlob(i,e)}else{var n=this.canvas_elem.toDataURL(),o=l("a");if("download"in o){o.style.visibility="hidden",o.href=n,o.download=e,r.body.appendChild(o);var s=r.createEvent("MouseEvents");s.initEvent("click",!0,!0),o.dispatchEvent(s),r.body.removeChild(o)}else location.href=n}},jm_event_handle:function(t,e){t===n.event_type.resize&&this.resize()}};var t=new n.plugin("screenshot",function(t){var i=new n.screenshot(t);t.screenshot=i,t.shoot=function(){i.shoot()},t.add_event_listener(function(t,e){i.jm_event_handle.call(i,t,e)})});n.register_plugin(t)}}(window),function(r){var l,d,h,c,n={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #999",width:"100px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"3px",border:"1px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{border:"1px solid #0a246a",backgroundColor:"#b6bdd2"},eventPosX:"pageX",eventPosY:"pageY",shadow:!0,onContextMenu:null,onShowMenu:null};function u(){l.hide(),d.hide()}r.fn.contextMenu=function(t,e){l||(l=r('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(t){t.stopPropagation()})),d||(d=r("<div></div>").css({backgroundColor:"#000",position:"absolute",opacity:.2,zIndex:499}).appendTo("body").hide()),(c=c||[]).push({id:t,menuStyle:r.extend({},n.menuStyle,e.menuStyle||{}),itemStyle:r.extend({},n.itemStyle,e.itemStyle||{}),itemHoverStyle:r.extend({},n.itemHoverStyle,e.itemHoverStyle||{}),bindings:e.bindings||{},shadow:e.shadow||!1===e.shadow?e.shadow:n.shadow,onContextMenu:e.onContextMenu||n.onContextMenu,onShowMenu:e.onShowMenu||n.onShowMenu,eventPosX:e.eventPosX||n.eventPosX,eventPosY:e.eventPosY||n.eventPosY});var i=c.length-1;return r(this).bind("contextmenu",function(t){return(!c[i].onContextMenu||c[i].onContextMenu(t))&&function(t,i,n,e){var o=c[t];(h=r("#"+o.id).find("ul:first").clone(!0)).css(o.menuStyle).find("li").css(o.itemStyle).hover(function(){r(this).css(o.itemHoverStyle)},function(){r(this).css(o.itemStyle)}).find("img").css({verticalAlign:"middle",paddingRight:"2px"}),l.html(h),o.onShowMenu&&(l=o.onShowMenu(n,l));r.each(o.bindings,function(t,e){r("#"+t,l).bind("click",function(t){u(),e(i,n.currentTarget)})});var s=n[o.eventPosX],a=n[o.eventPosY];s+l.outerWidth()>r(document.body).width()&&(s-=l.outerWidth());a+l.outerHeight()>r(document.body).height()&&(a-=l.outerHeight());l.css({left:s,top:a}).show(),o.shadow&&d.css({width:l.width(),height:l.height(),left:s+2,top:a+2}).show();r(document).one("click",u)}(i,this,t),!1}),this},r.contextMenu={defaults:function(t){r.each(t,function(t,e){"object"==typeof e&&n[t]?r.extend(n[t],e):n[t]=e})}}}(jQuery),function o(s,a,r){function l(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=a[i]={exports:{}};s[i][0].call(n.exports,function(t){var e=s[i][1][t];return l(e||t)},n,n.exports,o,s,a,r)}return a[i].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({1:[function(t,e,i){!function(c){"use strict";var n={escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(t){var e=document.createElement("ul");return e.className=t,e.style.position="absolute",e.style.display="none",e}},i=27,o=9,s=13,a=38,r=39,l=40;function d(t,e){var i=this;i.element=t,i.el=c(t),i.suggestions=[],i.badQueries=[],i.selectedIndex=-1,i.currentValue=i.element.value,i.intervalId=0,i.cachedResponse={},i.onChangeInterval=null,i.onChange=null,i.isLocal=!1,i.suggestionsContainer=null,i.options=i.getOptions(e),i.classes={selected:"active",suggestion:"autocomplete-suggestion"},i.hint=null,i.hintValue="",i.selection=null,i.initialize(),i.setOptions(e)}d.utils=n,(c.Autocomplete=d).formatResult=function(t,e){var i="("+n.escapeRegExChars(e)+")";return t.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")},d.prototype={killerFn:null,initialize:function(){var t,e=this,i="."+e.classes.suggestion,n=e.classes.selected,o=e.options;e.element.setAttribute("autocomplete","off"),e.killerFn=function(t){0===c(t.target).closest("."+e.options.containerClass).length&&(e.killSuggestions(),e.disableKillerFn())},e.suggestionsContainer=d.utils.createNode(o.containerClass),(t=c(e.suggestionsContainer)).appendTo(o.appendTo),"auto"!==o.width&&t.width(o.width),t.on("mouseover.autocomplete",i,function(){e.activate(c(this).data("index"))}),t.on("mouseout.autocomplete",function(){e.selectedIndex=-1,t.children("."+n).removeClass(n)}),t.on("click.autocomplete",i,function(){e.select(c(this).data("index"))}),e.fixPosition(),e.fixPositionCapture=function(){e.visible&&e.fixPosition()},c(window).on("resize.autocomplete",e.fixPositionCapture),e.el.on("keydown.autocomplete",function(t){e.onKeyPress(t)}),e.el.on("keyup.autocomplete",function(t){e.onKeyUp(t)}),e.el.on("blur.autocomplete",function(){e.onBlur()}),e.el.on("focus.autocomplete",function(){e.onFocus()}),e.el.on("change.autocomplete",function(t){e.onKeyUp(t)})},onFocus:function(){this.fixPosition(),this.options.minChars<=this.el.val().length&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var e=this,i=e.options;c.extend(i,t),e.isLocal=c.isArray(i.lookup),e.isLocal&&(i.lookup=e.verifySuggestionsFormat(i.lookup)),c(e.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,this.currentRequest&&this.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t,e,i=this;"body"===i.options.appendTo&&(e={top:(t=i.el.offset()).top+i.el.outerHeight()+"px",left:t.left+"px"},"auto"===i.options.width&&(e.width=i.el.outerWidth()-2+"px"),c(i.suggestionsContainer).css(e))},enableKillerFn:function(){c(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){c(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var t=this;t.stopKillSuggestions(),t.intervalId=window.setInterval(function(){t.hide(),t.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var t,e=this.el.val().length,i=this.element.selectionStart;return"number"==typeof i?i===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},onKeyPress:function(t){var e=this;if(e.disabled||e.visible||t.which!==l||!e.currentValue){if(!e.disabled&&e.visible){switch(t.which){case i:e.el.val(e.currentValue),e.hide();break;case r:if(e.hint&&e.options.onHint&&e.isCursorAtEnd())return void e.selectHint();break;case o:if(e.hint&&e.options.onHint)return void e.selectHint();break;case s:if(-1===e.selectedIndex)return void e.hide();if(e.select(e.selectedIndex),t.which===o&&!1===e.options.tabDisabled)return;break;case a:e.moveUp();break;case l:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}}else e.suggest()},onKeyUp:function(t){var e=this;if(!e.disabled){switch(t.which){case a:case l:return}clearInterval(e.onChangeInterval),e.currentValue!==e.el.val()&&(e.findBestHint(),0<e.options.deferRequestBy?e.onChangeInterval=setInterval(function(){e.onValueChange()},e.options.deferRequestBy):e.onValueChange())}},onValueChange:function(){var t,e=this,i=e.options,n=e.el.val(),o=e.getQuery(n);e.selection&&(e.selection=null,(i.onInvalidateSelection||c.noop).call(e.element)),clearInterval(e.onChangeInterval),e.currentValue=n,e.selectedIndex=-1,i.triggerSelectOnValidInput&&-1!==(t=e.findSuggestionIndex(o))?e.select(t):o.length<i.minChars?e.hide():e.getSuggestions(o)},findSuggestionIndex:function(t){var i=-1,n=t.toLowerCase();return c.each(this.suggestions,function(t,e){if(e.value.toLowerCase()===n)return i=t,!1}),i},getQuery:function(t){var e,i=this.options.delimiter;return i?(e=t.split(i),c.trim(e[e.length-1])):t},getSuggestionsLocal:function(e){var t,i=this.options,n=e.toLowerCase(),o=i.lookupFilter,s=parseInt(i.lookupLimit,10);return t={suggestions:c.grep(i.lookup,function(t){return o(t,e,n)})},s&&t.suggestions.length>s&&(t.suggestions=t.suggestions.slice(0,s)),t},getSuggestions:function(n){var t,e,i,o=this,s=o.options,a=s.serviceUrl;if(s.params[s.paramName]=n,e=s.ignoreParams?null:s.params,o.isLocal?t=o.getSuggestionsLocal(n):(c.isFunction(a)&&(a=a.call(o.element,n)),i=a+"?"+c.param(e||{}),t=o.cachedResponse[i]),t&&c.isArray(t.suggestions))o.suggestions=t.suggestions,o.suggest();else if(!o.isBadQuery(n)){if(!1===s.onSearchStart.call(o.element,s.params))return;o.currentRequest&&o.currentRequest.abort(),o.currentRequest=c.ajax({url:a,data:e,type:s.type,dataType:s.dataType}).done(function(t){var e;o.currentRequest=null,e=s.transformResult(t),o.processResponse(e,n,i),s.onSearchComplete.call(o.element,n,e.suggestions)}).fail(function(t,e,i){s.onSearchError.call(o.element,n,t,e,i)})}},isBadQuery:function(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,i=e.length;i--;)if(0===t.indexOf(e[i]))return!0;return!1},hide:function(){this.visible=!1,this.selectedIndex=-1,c(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function(){if(0!==this.suggestions.length){var t,e,i=this,n=i.options,o=n.formatResult,s=i.getQuery(i.currentValue),a=i.classes.suggestion,r=i.classes.selected,l=c(i.suggestionsContainer),d=n.beforeRender,h="";n.triggerSelectOnValidInput&&-1!==(t=i.findSuggestionIndex(s))?i.select(t):(c.each(i.suggestions,function(t,e){h+='<li class="'+a+'" data-index="'+t+'"><a>'+o(e,s)+"</a></li>"}),"auto"===n.width&&(e=i.el.outerWidth()-2,l.width(0<e?e:300)),l.html(h),n.autoSelectFirst&&(i.selectedIndex=0,l.children().first().addClass(r)),c.isFunction(d)&&d.call(i.element,l),l.show(),i.visible=!0,i.findBestHint())}else this.hide()},findBestHint:function(){var n=this.el.val().toLowerCase(),o=null;n&&(c.each(this.suggestions,function(t,e){var i=0===e.value.toLowerCase().indexOf(n);return i&&(o=e),!i}),this.signalHint(o))},signalHint:function(t){var e="",i=this;t&&(e=i.currentValue+t.value.substr(i.currentValue.length)),i.hintValue!==e&&(i.hintValue=e,i.hint=t,(this.options.onHint||c.noop)(e))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?c.map(t,function(t){return{value:t,data:null}}):t},processResponse:function(t,e,i){var n=this,o=n.options;t.suggestions=n.verifySuggestionsFormat(t.suggestions),o.noCache||(n.cachedResponse[i]=t,o.preventBadQueries&&0===t.suggestions.length&&n.badQueries.push(e)),e===n.getQuery(n.currentValue)&&(n.suggestions=t.suggestions,n.suggest())},activate:function(t){var e,i=this,n=i.classes.selected,o=c(i.suggestionsContainer),s=o.children();return o.children("."+n).removeClass(n),i.selectedIndex=t,-1!==i.selectedIndex&&s.length>i.selectedIndex?(e=s.get(i.selectedIndex),c(e).addClass(n),e):null},selectHint:function(){var t=c.inArray(this.hint,this.suggestions);this.select(t)},select:function(t){this.hide(),this.onSelect(t)},moveUp:function(){var t=this;if(-1!==t.selectedIndex)return 0===t.selectedIndex?(c(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var e,i,n,o=this,s=o.activate(t);s&&(e=s.offsetTop,n=(i=c(o.suggestionsContainer).scrollTop())+o.options.maxHeight-25,e<i?c(o.suggestionsContainer).scrollTop(e):n<e&&c(o.suggestionsContainer).scrollTop(e-o.options.maxHeight+25),o.el.val(o.getValue(o.suggestions[t].value)),o.signalHint(null))},onSelect:function(t){var e=this,i=e.options.onSelect,n=e.suggestions[t];e.currentValue=e.getValue(n.value),e.currentValue!==e.el.val()&&e.el.val(e.currentValue),e.signalHint(null),e.suggestions=[],e.selection=n,c.isFunction(i)&&i.call(e.element,n)},getValue:function(t){var e,i,n=this.options.delimiter;return n?1===(i=(e=this.currentValue).split(n)).length?t:e.substr(0,e.length-i[i.length-1].length)+t:t},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),c(window).off("resize.autocomplete",this.fixPositionCapture),c(this.suggestionsContainer).remove()},getOptions:function(t){return c.extend({},c.fn.autocomplete.defaults,this.el.data(),t)}},c.fn.autocomplete=function(n,t){var o="autocomplete";return this.each(function(){var t=c(this),e=t.data(o),i="object"==typeof n&&n;e||t.data(o,e=new d(this,i)),"string"==typeof n&&e[n]()})},c.fn.autocomplete.defaults={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:d.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:c.noop,onSearchComplete:c.noop,onSearchError:c.noop,containerClass:"sui-dropdown-menu sui-suggestion-container",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(t,e,i){return-1!==t.value.toLowerCase().indexOf(i)},paramName:"query",transformResult:function(t){return"string"==typeof t?c.parseJSON(t):t}},c(function(){c("[data-toggle='autocomplete']").autocomplete()})}(window.jQuery)},{}],2:[function(t,e,i){!function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},o.fn.button.defaults,e)};s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},s.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=function(n){return this.each(function(){var t=o(this),e=t.data("button"),i="object"==typeof n&&n;e||t.data("button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})},o.fn.button.defaults={loadingText:"loading..."},o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.button.data-api","[data-toggle^=button]",function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})}(window.jQuery)},{}],3:[function(t,e,i){!function(d){"use strict";var s=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};s.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var e=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):e==t?this.pause().cycle():this.slide(e<t?"next":"prev",d(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,e){var i,n=this.$element.find(".item.active"),o=e||n[t](),s=this.interval,a="next"==t?"left":"right",r="next"==t?"first":"last",l=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[r](),i=d.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=d(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),d.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,n.addClass(a),o.addClass(a),this.$element.one(d.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var t=d.fn.carousel;d.fn.carousel=function(o){return this.each(function(){var t=d(this),e=t.data("carousel"),i=d.extend({},d.fn.carousel.defaults,t.data(),"object"==typeof o&&o),n="string"==typeof o?o:i.slide;e||t.data("carousel",e=new s(this,i)),"number"==typeof o?e.to(o):n?e[n]():i.autoStart&&e.pause().cycle()})},d.fn.carousel.defaults={interval:5e3,pause:"hover",autoStart:!0},d.fn.carousel.Constructor=s,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this},d(document).on("click.sui-carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,i,n=d(this),o=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),s=d.extend({},o.data(),n.data());o.carousel(s),(i=n.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()}),d(function(){d("[data-ride='carousel']").carousel()})}(window.jQuery)},{}],4:[function(t,e,i){!function(s){"use strict";var a="checked",r="halfchecked",l="disabled",o=function(t,e){this.$element=s(t),this.$checkbox=this.$element.find("input")},t=s.fn.checkbox;s.fn.checkbox=function(n){return this.each(function(){var t=s(this),e=t.data("checkbox"),i="object"==typeof n&&n;e?n&&e[n]():t.data("checkbox",e=new o(this,i))})},o.prototype.toggle=function(){this.$checkbox.prop("checked")?this.uncheck():this.check(),this.$checkbox.trigger("change")},o.prototype.check=function(){this.$checkbox.prop("disabled")||(this.$checkbox.prop("checked",!0),this.$checkbox.trigger("change"))},o.prototype.uncheck=function(){this.$checkbox.prop("disabled")||(this.$checkbox.prop("checked",!1),this.$checkbox.trigger("change"))},o.prototype.halfcheck=function(){this.$checkbox.prop("disabled")||(this.$checkbox.prop("checked",!1),this.$element.removeClass(a).addClass("halfchecked"))},o.prototype.disable=function(){this.$checkbox.prop("disabled",!0),this.$checkbox.trigger("change")},o.prototype.enable=function(){this.$checkbox.prop("disabled",!1),this.$checkbox.trigger("change")},s.fn.checkbox.defaults={loadingText:"loading..."},s.fn.checkbox.Constructor=o,s.fn.checkbox.noConflict=function(){return s.fn.checkbox=t,this},s.fn.radio=s.fn.checkbox,s(document).on("change","input[type='checkbox'], input[type='radio']",function(t){var e=s(t.currentTarget),i=e.parent(),n=function(t){var e=t.parent();t.prop("checked")?e.removeClass(r).addClass(a):e.removeClass(a).removeClass(r),t.prop("disabled")?e.addClass(l):e.removeClass(l)};if((i.hasClass("checkbox-pretty")||i.hasClass("radio-pretty"))&&n(e),"radio"===e.attr("type").toLowerCase()){var o=e.attr("name");s("input[name='"+o+"']").each(function(){n(s(this))})}})}(window.jQuery)},{}],5:[function(t,e,i){!function(S,j){var f=S(window);function M(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var t=new Date;return M(t.getFullYear(),t.getMonth(),t.getDate())}function t(t){return function(){return this[t].apply(this,arguments)}}var e,i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(S.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),S.extend(t,e),t}),_=function(t,e){this.dates=new i,this.viewDate=r(),this.focusDate=null,this._process_options(e),this.element=S(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .sui-btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=S(E.template),this.o.timepicker&&(this.timepickerContainer=this.picker.find(".timepicker-container"),this.timepickerContainer.timepicker(),this.timepicker=this.timepickerContainer.data("timepicker"),this.timepicker._render()),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),"small"===this.o.size&&this.picker.addClass("datepicker-small"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};_.prototype={constructor:_,_process_options:function(t){this._o=S.extend({},this._o,t);var e=this.o=S.extend({},this._o),i=e.language;switch(I[i]||(i=i.split("-")[0],I[i]||(i=c.language)),e.language=i,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate?e.multidate=Math.max(0,e.multidate):e.multidate=1),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var n=E.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=E.parseDate(e.startDate,n,e.language):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=E.parseDate(e.endDate,n,e.language):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],S.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=S.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)});var o=String(e.orientation).toLowerCase().split(/\s+/g),s=e.orientation.toLowerCase();if(o=S.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===o.length)switch(o[0]){case"top":case"bottom":e.orientation.y=o[0];break;case"left":case"right":e.orientation.x=o[0]}else s=S.grep(o,function(t){return/^left|right$/.test(t)}),e.orientation.x=s[0]||"auto",s=S.grep(o,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(i=j,n=t[o][1]):3===t[o].length&&(i=t[o][1],n=t[o][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(n=j,i=t[o][1]):3===t[o].length&&(n=t[o][1],i=t[o][2]),e.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:S.proxy(this.show,this),keyup:S.proxy(function(t){-1===S.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:S.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:S.proxy(this.show,this),keyup:S.proxy(function(t){-1===S.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:S.proxy(this.keydown,this)}],[this.component,{click:S.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:S.proxy(this.show,this)}]],this.o.timepicker&&this._events.push([this.timepickerContainer,{"time:change":S.proxy(this.timeChange,this)}]),this._events.push([this.element,"*",{blur:S.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:S.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:S.proxy(this.click,this)}],[S(window),{resize:S.proxy(this.place,this)}],[S(document),{"mousedown touchstart":S.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents),this.o.timepicker&&this.timepicker._attachSecondaryEvents()},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents),this.o.timepicker&&this.timepicker._detachSecondaryEvents()},_trigger:function(t,e){var i=e||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:t,date:n,dates:S.map(this.dates,this._utc_to_local),format:S.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return E.formatDate(i,e,this.o.language)},this)})},timeChange:function(t){this.setValue()},show:function(t){t&&"focus"===t.type&&this.picker.is(":visible")||(this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this.o.timepicker&&this.timepicker._show(),this._trigger("show"))},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.o.timepicker&&this.timepicker._hide(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return S.map(this.dates,this._utc_to_local)},getUTCDates:function(){return S.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=S.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=S.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,S.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:t("setDates"),setUTCDate:t("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},setTimeValue:function(){var t,e,i,n;if(n={hour:(new Date).getHours(),minute:(new Date).getMinutes()},this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element){if(t=S.trim(element.val())){var o=t.split(" ");2===o.length&&(t=o[1])}for(var s=(t=t.split(":")).length-1;0<=s;s--)t[s]=S.trim(t[s]);2===t.length&&(0<=(e=parseInt(t[1],10))&&e<60&&(n.minute=e),0<=(i=parseInt(t[0].slice(-2),10))&&i<24&&(n.hour=i))}this.timepickerContainer.data("time",n.hour+":"+n.minute)},getFormattedDate:function(e){e===j&&(e=this.o.format);var i=this.o.language,t=S.map(this.dates,function(t){return E.formatDate(t,e,i)}).join(this.o.multidateSeparator);return this.o.timepicker&&(t||(t=E.formatDate(new Date,e,i)),t=t+" "+this.timepickerContainer.data("time")),t},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=f.width(),n=f.height(),o=f.scrollTop(),s=parseInt(this.element.parents().filter(function(){return"auto"!==S(this).css("z-index")}).first().css("z-index"))+10,a=this.component?this.component.parent().offset():this.element.offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=a.left,h=a.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=t-l)):(this.picker.addClass("datepicker-orient-left"),a.left<0?d-=a.left-10:a.left+t>i&&(d=i-t-10));var c,u,p=this.o.orientation.y;"auto"===p&&(c=-o+a.top-e,u=o+n-(a.top+r+e),p=Math.max(c,u)===u?"top":"bottom"),this.picker.addClass("datepicker-orient-"+p),"top"===p?h+=r+6:h-=e+parseInt(this.picker.css("padding-top"))+6,this.picker.css({top:h,left:d,zIndex:s})}},_getTime:function(t){var e,i;return(e=(t=new Date(t)).getHours())<10&&(e="0"+e),(i=t.getMinutes())<10&&(i="0"+i),e+":"+i},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),i=[],e=!1;if(arguments.length)S.each(arguments,S.proxy(function(t,e){this.o.timepicker&&0===t&&this.timepicker.update(this._getTime(e)),e instanceof Date?e=this._local_to_utc(e):"string"==typeof e&&this.o.timepicker&&(e=e.split(" ")[0]),i.push(e)},this)),e=!0;else{if((i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.timepicker){var n=i.split(" ");2===n.length&&(i=n[0],this.timepicker.update(n[1],!0))}i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date}i=S.map(i,S.proxy(function(t){return E.parseDate(t,this.o.format,this.o.language)},this)),i=S.grep(i,S.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),e?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e='<tr class="week-content">';if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+I[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+I[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=S.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),o=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===o.getFullYear()&&t.getUTCMonth()===o.getMonth()&&t.getUTCDate()===o.getDate()&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==S.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==S.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var t,e=new Date(this.viewDate),i=e.getUTCFullYear(),n=e.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,l=I[this.o.language].today||I.en.today||"",d=I[this.o.language].clear||I.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(i+"骞� "+I[this.o.language].months[n]),this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(d).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=M(i,n-1,28),c=E.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(c),h.setUTCDate(c-(h.getUTCDay()-this.o.weekStart+7)%7);var u=new Date(h);u.setUTCDate(u.getUTCDate()+42),u=u.valueOf();for(var p,f=[];h.valueOf()<u;){if(h.getUTCDay()===this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),g=new Date(Number(v)+(11-v.getUTCDay())%7*864e5),m=new Date(Number(m=M(g.getUTCFullYear(),0,1))+(11-m.getUTCDay())%7*864e5),_=(g-m)/864e5/7+1;f.push('<td class="cw">'+_+"</td>")}if((p=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==S.noop){var y=this.o.beforeShowDay(this._utc_to_local(h));y===j?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&p.push("disabled"),y.classes&&(p=p.concat(y.classes.split(/\s+/))),y.tooltip&&(t=y.tooltip)}var w;p=S.unique(p);var b=new Date;w=this.o.todayHighlight&&h.getUTCFullYear()===b.getFullYear()&&h.getUTCMonth()===b.getMonth()&&h.getUTCDate()===b.getDate()?"浠婃棩":h.getUTCDate(),f.push('<td class="'+p.join(" ")+'"'+(t?' title="'+t+'"':"")+'data-day="'+h.getUTCDate()+'">'+w+"</td>"),h.getUTCDay()===this.o.weekEnd&&f.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var k=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");S.each(this.dates,function(t,e){e.getUTCFullYear()===i&&k.eq(e.getUTCMonth()).addClass("active")}),(i<o||a<i)&&k.addClass("disabled"),i===o&&k.slice(0,s).addClass("disabled"),i===a&&k.slice(r+1).addClass("disabled"),f="",i=10*parseInt(i/10,10);var x=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var C,D=S.map(this.dates,function(t){return t.getUTCFullYear()}),T=-1;T<11;T++)C=["year"],-1===T?C.push("old"):10===T&&C.push("new"),-1!==S.inArray(i,D)&&C.push("active"),(i<o||a<i)&&C.push("disabled"),f+='<span class="'+C.join(" ")+'">'+i+"</span>",i+=1;x.html(f)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){if(t.preventDefault(),!S(t.target).parents(".timepicker-container")[0]){var e,i,n,o=S(t.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=E.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=M(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var r="linked"===this.o.todayBtn?null:"view";this._setDate(a,r);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||o.is("[data-num]")||(this.viewDate.setUTCDate(1),o.is(".month")?(n=1,i=o.parent().find("span").index(o),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(M(e,i,n))):(n=1,i=0,e=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(M(e,i,n))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(n=o.data("day"),n=parseInt(n,10)||1,e=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),o.is(".old")?0===i?(i=11,e-=1):i-=1:o.is(".new")&&(11===i?(i=0,e+=1):i+=1),this._setDate(M(e,i,n)))}this.picker.is(":visible")&&this._focused_from&&S(this._focused_from).focus(),delete this._focused_from}},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){var i;e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!t)return j;if(!e)return t;var i,n,o=new Date(t.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),r=Math.abs(e);if(e=0<e?1:-1,1===r)n=-1===e?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==i},i=a+e,o.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(s),n=function(){return i!==o.getUTCMonth()}}for(;n();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,i,n,o,s=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+e),(n=new Date(a)).setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+7*e),(n=new Date(a)).setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),s=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s)this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+E.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var h=function(t,e){this.element=S(t),this.inputs=S.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,S(this.inputs).datepicker(e).bind("changeDate",S.proxy(this.dateUpdated,this)),this.pickers=S.map(this.inputs,function(t){return S(t).data("datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=S.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=S.map(this.dates,function(t){return t.valueOf()});S.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=S(t.target).data("datepicker").getUTCDate(),e=S.inArray(t.target,this.inputs),n=this.inputs.length;if(-1!==e){S.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)});var o=0;for(o=0;o<this.pickers.length;o++)this.dates[o]=this.pickers[o].getDate();for(o=e-1;0<=o&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);if(i<this.dates[e])for(;0<=e&&i<this.dates[e];)this.pickers[e--].setUTCDate(i);else if(i>this.dates[e])for(;e<n&&i>this.dates[e];)this.pickers[e++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){S.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var n=S.fn.datepicker;S.fn.datepicker=function(r){var l,d=Array.apply(null,arguments);return d.shift(),this.each(function(){var t=S(this),e=t.data("datepicker"),i="object"==typeof r&&r;if(!e){var n=function(t,e){var i=S(t).data(),n={},o=new RegExp("^"+e.toLowerCase()+"([A-Z])");function s(t,e){return e.toLowerCase()}for(var a in e=new RegExp("^"+e.toLowerCase()),i)e.test(a)&&(n[a.replace(o,s)]=i[a]);return n}(this,"date"),o=function(t){var i={};if(I[t]||(t=t.split("-")[0],I[t])){var n=I[t];return S.each(u,function(t,e){e in n&&(i[e]=n[e])}),i}}(S.extend({},c,n,i).language),s=S.extend({},c,o,n,i);if(t.is(".input-daterange")||s.inputs){var a={inputs:s.inputs||t.find("input").toArray()};t.data("datepicker",e=new h(this,S.extend(s,a)))}else t.data("datepicker",e=new _(this,s))}if("string"==typeof r&&"function"==typeof e[r]&&(l=e[r].apply(e,d))!==j)return!1}),l!==j?l:this};var c=S.fn.datepicker.defaults={autoclose:!0,beforeShowDay:S.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"yyyy-mm-dd",keyboardNavigation:!0,language:"zh-CN",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,size:"",startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!0,weekStart:0,timepicker:!1},u=S.fn.datepicker.locale_opts=["format","rtl","weekStart"];S.fn.datepicker.Constructor=_;var I=S.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},"zh-CN":{days:["鏄熸湡鏃�","鏄熸湡涓€","鏄熸湡浜�","鏄熸湡涓�","鏄熸湡鍥�","鏄熸湡浜�","鏄熸湡鍏�","鏄熸湡鏃�"],daysShort:["鍛ㄦ棩","鍛ㄤ竴","鍛ㄤ簩","鍛ㄤ笁","鍛ㄥ洓","鍛ㄤ簲","鍛ㄥ叚","鍛ㄦ棩"],daysMin:["鏃�","涓€","浜�","涓�","鍥�","浜�","鍏�","鏃�"],months:["1鏈�","2鏈�","3鏈�","4鏈�","5鏈�","6鏈�","7鏈�","8鏈�","9鏈�","10鏈�","11鏈�","12鏈�"],monthsShort:["1鏈�","2鏈�","3鏈�","4鏈�","5鏈�","6鏈�","7鏈�","8鏈�","9鏈�","10鏈�","11鏈�","12鏈�"],today:"浠婃棩",weekStart:0}},E={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,E.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i){if(!t)return j;if(t instanceof Date)return t;"string"==typeof e&&(e=E.parseFormat(e));var n,o,s,a=/([\-+]\d+)([dmwy])/,r=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,s=0;s<r.length;s++)switch(n=a.exec(r[s]),o=parseInt(n[1]),n[2]){case"d":t.setUTCDate(t.getUTCDate()+o);break;case"m":t=_.prototype.moveMonth.call(_.prototype,t,o);break;case"w":t.setUTCDate(t.getUTCDate()+7*o);break;case"y":t=_.prototype.moveYear.call(_.prototype,t,o)}return M(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}r=t&&t.match(this.nonpunctuation)||[],t=new Date;var l,d,h={},c=["yyyy","yy","M","MM","m","mm","d","dd"],u={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};u.M=u.MM=u.mm=u.m,u.dd=u.d,t=M(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var p=e.parts.slice();function f(){var t=this.slice(0,r[s].length);return t===r[s].slice(0,t.length)}if(r.length!==p.length&&(p=S(p).filter(function(t,e){return-1!==S.inArray(e,c)}).toArray()),r.length===p.length){var v,g,m;for(s=0,v=p.length;s<v;s++){if(l=parseInt(r[s],10),n=p[s],isNaN(l))switch(n){case"MM":d=S(I[i].months).filter(f),l=S.inArray(d[0],I[i].months)+1;break;case"M":d=S(I[i].monthsShort).filter(f),l=S.inArray(d[0],I[i].monthsShort)+1}h[n]=l}for(s=0;s<c.length;s++)(m=c[s])in h&&!isNaN(h[m])&&(g=new Date(t),u[m](g,h[m]),isNaN(g)||(t=g))}return t},formatDate:function(t,e,i){if(!t)return"";"string"==typeof e&&(e=E.parseFormat(e));var n={d:t.getUTCDate(),D:I[i].daysShort[t.getUTCDay()],DD:I[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:I[i].monthsShort[t.getUTCMonth()],MM:I[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var o=S.extend([],e.separators),s=0,a=e.parts.length;s<=a;s++)o.length&&t.push(o.shift()),t.push(n[e.parts[s]]);return t.join("")},headTemplate:'<thead><tr class="date-header"><th class="prev"><b></b></th><th colspan="5" class="datepicker-switch"></th><th class="next"><b></b></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>',timepicerTemplate:'<div class="timepicker-container"></div>'};E.template='<div class="datepicker"><div class="datepicker-days clearfix"><table class=" table-condensed">'+E.headTemplate+"<tbody></tbody>"+E.footTemplate+"</table>"+E.timepicerTemplate+'</div><div class="datepicker-months"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+"</table></div></div>",S.fn.datepicker.DPGlobal=E,S.fn.datepicker.noConflict=function(){return S.fn.datepicker=n,this},S(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-toggle="datepicker"]',function(t){var e=S(this);e.data("datepicker")||(t.preventDefault(),e.datepicker("show"))}),S(function(){S('[data-toggle="datepicker-inline"]').datepicker()})}(window.jQuery,void 0)},{}],6:[function(t,e,i){!function(o){"use strict";var e=".sui-dropdown, .sui-dropup",n=function(){o(".sui-dropdown.open, .sui-dropup.open, .sui-btn-group.open").each(function(){o(this).removeClass("open")})},s=function(t){var e=t.parent();return e.hasClass("dropdown-inner")?e.parent():e},i=function(){n();var t=o(this),e=s(t);if(!e.is(".disabled, :disabled"))return e.addClass("open"),t.focus(),!1},a=function(){var t=o(this),e=s(t);if(!e.is(".disabled, :disabled"))return e.removeClass("open"),t.focus(),!1},r=function(){var t=o(this),e=s(t),i=e.hasClass("open");if(n(),!e.is(".disabled, :disabled"))return i?e.removeClass("open"):e.addClass("open"),t.focus(),!1};o(document).on("mouseover",e,function(){var t;(t=o(this).find('[data-trigger="hover"]')[0])&&i.call(t)}),o(document).on("mouseleave",e,function(){var t;(t=o(this).find('[data-trigger="hover"]')[0])&&a.call(t)}),o(document).on("click","[data-toggle='dropdown']",r),o(document).on("click",function(){var t=o(this);t.is(e)||t.parents(e)[0]||n()}),o(document).on("click",".select .sui-dropdown-menu a",function(){var t=o(this),e=t.parent(),i=t.parents(".sui-dropdown, .sui-dropup"),n=i.find("[role='menu']");e.is(".disabled, :disabled")||i.is(".disabled, :disabled")||(i.find("input").val(t.attr("value")||"").trigger("change"),i.find("[data-toggle=dropdown] span").html(t.html()),n.find(".active").removeClass("active"),e.addClass("active"))}),o.fn.dropdown=function(t){return this.each(function(){if(o(this).attr("data-toggle","dropdown"),"string"==typeof t)switch(t){case"show":i.call(this);break;case"hide":a.call(this);break;case"toggle":r.call(this)}})}}(window.jQuery)},{}],7:[function(t,e,i){!function(t){"use strict";jQuery.extend({filesize:function(t,e){var i,n="",o=e||{},s=Number(t),a=void 0!==o.round?o.round:2;if(isNaN(t)||s<0)throw new Error("鏃犳晥鐨剆ize鍙傛暟");return 0===s?n="0B":(8<(i=Math.floor(Math.log(s)/Math.log(1e3)))&&(n*=1e3*(i-8),i=8),n=(n=s/Math.pow(2,10*i)).toFixed(0<i?a:0)+["B","kB","MB","GB","TB","PB","EB","ZB","YB"][i]),n}})}()},{}],8:[function(t,e,i){!function(n){function o(t,e){var i;this._targetElement=t,this._options=(i=e,i=n.extend({},o.prototype.defaults,i))}function t(e){var t=[],i=this,n=[];if(this._options.steps)for(var o=0,s=this._options.steps.length;o<s;o++){var a=f(this._options.steps[o]);if(a.step=t.length+1,"string"==typeof a.element&&(a.element=document.querySelector(a.element)),void 0===a.element||null===a.element){var r=document.querySelector(".introjsFloatingElement");null===r&&((r=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(r)),a.element=r,a.position="floating"}null!==a.element&&t.push(a)}else{if((n=e.querySelectorAll("*[data-intro]")).length<1)return!1;o=0;for(var l=n.length;o<l;o++){var d=n[o],h=parseInt(d.getAttribute("data-step"),10);0<h&&(t[h-1]={element:d,intro:d.getAttribute("data-intro"),step:parseInt(d.getAttribute("data-step"),10),tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition})}var c=0;for(o=0,l=n.length;o<l;o++){if(null===(d=n[o]).getAttribute("data-step")){for(;void 0!==t[c];)c++;t[c]={element:d,intro:d.getAttribute("data-intro"),step:c+1,tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var u=[],p=0;p<t.length;p++)t[p]&&u.push(t[p]);if((t=u).sort(function(t,e){return t.step-e.step}),i._introItems=t,function(t){var e=document.createElement("div"),i="",n=this;if(e.className="sui-introjs-overlay","body"===t.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",i);else{var o=O(t);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.setAttribute("style",i))}return t.appendChild(e),e.onclick=function(){!0===n._options.exitOnOverlayClick&&(H.call(n,t),void 0!==n._introExitCallback&&n._introExitCallback.call(n))},setTimeout(function(){i+="opacity: "+n._options.overlayOpacity.toString()+";",e.setAttribute("style",i)},10),!0}.call(i,e)){A.call(i);e.querySelector(".introjs-skipbutton"),e.querySelector(".introjs-nextbutton");i._onKeyDown=function(t){27===t.keyCode&&!0===i._options.exitOnEsc?(H.call(i,e),void 0!==i._introExitCallback&&i._introExitCallback.call(i)):37===t.keyCode?z.call(i):39!==t.keyCode&&13!==t.keyCode||(A.call(i),t.preventDefault?t.preventDefault():t.returnValue=!1)},i._onResize=function(t){V.call(i,document.querySelector(".sui-introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",i._onKeyDown,!0),window.addEventListener("resize",i._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",i._onKeyDown),document.attachEvent("onresize",i._onResize))}return!1}function f(t){if(null===t||"object"!=typeof t||void 0!==t.nodeType)return t;var e={};for(var i in t)e[i]=f(t[i]);return e}function A(){if(this._direction="forward",void 0===this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void H.call(this,this._targetElement);var t=this._introItems[this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),e.call(this,t)}function z(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),e.call(this,t)}function H(t){var e=t.querySelector(".sui-introjs-overlay");if(null!==e){e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500);var i=t.querySelector(".sui-introjs-helperLayer");i&&i.parentNode.removeChild(i);var n=document.querySelector(".introjsFloatingElement");n&&n.parentNode.removeChild(n);var o=document.querySelector(".introjs-showElement");o&&(o.className=o.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var s=document.querySelectorAll(".introjs-fixParent");if(s&&0<s.length)for(var a=s.length-1;0<=a;a--)s[a].className=s[a].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function L(t,e,i,n){var o,s,a,r="";if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,i.style.display="inherit",null!=n&&(n.style.top=null,n.style.left=null),this._introItems[this._currentStep]){r="string"==typeof(o=this._introItems[this._currentStep]).tooltipClass?o.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+r).replace(/^\s+|\s+$/g,"");r=this._options.tooltipClass;switch(currentTooltipPosition=this._introItems[this._currentStep].position,currentTooltipPosition){case"top":e.style.left="15px",e.style.top="-"+(O(e).height+10)+"px",i.className="introjs-arrow bottom";break;case"right":e.style.left=O(t).width+20+"px",i.className="introjs-arrow left";break;case"left":!0===this._options.showStepNumbers&&(e.style.top="15px"),e.style.right=O(t).width+20+"px",i.className="introjs-arrow right";break;case"floating":i.style.display="none",s=O(e),e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px",null!=n&&(n.style.left="-"+(s.width/2+18)+"px",n.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",e.style.right="0px",e.style.bottom="-"+(O(e).height+10)+"px";break;case"bottom-middle-aligned":a=O(t),s=O(e),i.className="introjs-arrow top-middle",e.style.left=a.width/2-s.width/2+"px",e.style.bottom="-"+(s.height+10)+"px";break;default:e.style.bottom="-"+(O(e).height+10)+"px",i.className="introjs-arrow top"}}}function V(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],i=O(e.element),n=10;"floating"===e.position&&(n=0),t.setAttribute("style","width: "+(i.width+n)+"px; height:"+(i.height+n)+"px; top:"+(i.top-5)+"px;left: "+(i.left-5)+"px;")}}function e(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e=this,i=document.querySelector(".sui-introjs-helperLayer");O(t.element);if(null!==i){var n=i.querySelector(".introjs-helperNumberLayer"),o=i.querySelector(".introjs-tooltiptext"),s=i.querySelector(".introjs-arrow"),a=i.querySelector(".introjs-tooltip"),r=i.querySelector(".introjs-skipbutton"),l=i.querySelector(".introjs-prevbutton"),d=i.querySelector(".introjs-nextbutton");if(a.style.opacity=0,null!==n){var h=this._introItems[0<=t.step-2?t.step-2:0];(null!==h&&"forward"===this._direction&&"floating"===h.position||"backward"===this._direction&&"floating"===t.position)&&(n.style.opacity=0)}V.call(e,i);var c=document.querySelectorAll(".introjs-fixParent");if(c&&0<c.length)for(var u=c.length-1;0<=u;u--)c[u].className=c[u].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var p=document.querySelector(".introjs-showElement");p.className=p.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout(function(){null!==n&&(n.innerHTML=t.step),o.innerHTML=t.intro,L.call(e,t.element,a,s,n),i.querySelector(".introjs-bullets li > a.active").className="",i.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",a.style.opacity=1,n&&(n.style.opacity=1)},350)}else{var f=document.createElement("div"),v=document.createElement("div"),g=document.createElement("div"),m=document.createElement("div"),_=document.createElement("div"),y=document.createElement("div");f.className="sui-introjs-helperLayer",V.call(e,f),this._targetElement.appendChild(f),v.className="introjs-arrow",m.className="introjs-tooltiptext",m.innerHTML=t.intro,!(_.className="introjs-bullets")===this._options.showBullets&&(_.style.display="none");for(var w=document.createElement("ul"),b=function(){e.goToStep(this.getAttribute("data-stepnumber"))},k=(u=0,this._introItems.length);u<k;u++){var x=document.createElement("li"),C=document.createElement("a");C.onclick=b,0===u&&(C.className="active"),C.href="javascript:void(0);",C.innerHTML="&nbsp;",C.setAttribute("data-stepnumber",this._introItems[u].step),x.appendChild(C),w.appendChild(x)}if(_.appendChild(w),!(y.className="introjs-tooltipbuttons")===this._options.showButtons&&(y.style.display="none"),g.className="introjs-tooltip",g.appendChild(m),g.appendChild(_),!0===this._options.showStepNumbers){var D=document.createElement("span");D.className="introjs-helperNumberLayer",D.innerHTML=t.step,f.appendChild(D)}g.appendChild(v),f.appendChild(g),(d=document.createElement("a")).onclick=function(){e._introItems.length-1!==e._currentStep&&A.call(e)},d.href="javascript:void(0);",d.innerHTML=this._options.nextLabel,(l=document.createElement("a")).onclick=function(){0!==e._currentStep&&z.call(e)},l.href="javascript:void(0);",l.innerHTML=this._options.prevLabel,(r=document.createElement("a")).className="sui-btn introjs-skipbutton",r.href="javascript:void(0);",r.innerHTML=this._options.skipLabel,r.onclick=function(){e._introItems.length-1===e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),e._introItems.length-1!==e._currentStep&&"function"==typeof e._introExitCallback&&e._introExitCallback.call(e),H.call(e,e._targetElement)},y.appendChild(r),1<this._introItems.length&&(y.appendChild(l),y.appendChild(d)),g.appendChild(y),L.call(e,t.element,g,v,D)}0===this._currentStep&&1<this._introItems.length?(l.className="sui-btn introjs-prevbutton disabled",d.className="sui-btn introjs-nextbutton",r.innerHTML=this._options.skipLabel):this._introItems.length-1===this._currentStep||1===this._introItems.length?(r.innerHTML=this._options.doneLabel,l.className="sui-btn introjs-prevbutton",d.className="sui-btn introjs-nextbutton disabled"):(l.className="sui-btn introjs-prevbutton",d.className="sui-btn introjs-nextbutton",r.innerHTML=this._options.skipLabel),d.focus(),t.element.className+=" introjs-showElement";var T=R(t.element,"position");"absolute"!==T&&"relative"!==T&&(t.element.className+=" introjs-relativePosition");for(var S,j,M=t.element.parentNode;null!==M&&"body"!==M.tagName.toLowerCase();){var I=R(M,"z-index"),E=parseFloat(R(M,"opacity"));(/[0-9]+/.test(I)||E<1)&&(M.className+=" introjs-fixParent"),M=M.parentNode}if(S=t.element,!(0<=(j=S.getBoundingClientRect()).top&&0<=j.left&&j.bottom+80<=window.innerHeight&&j.right<=window.innerWidth)&&!0===this._options.scrollToElement){var $=t.element.getBoundingClientRect(),N=function(){{if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}}().height,U=$.bottom-($.bottom-$.top),P=$.bottom-N;U<0||t.element.clientHeight>N?window.scrollBy(0,U-30):window.scrollBy(0,P+100)}void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function R(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i}function O(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var i=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=i,e}var i=function(t,e){if(n.isPlainObject(t)||!t&&!e)return e=t,new o(document.body,e);if(t.tagName)return new o(t,e);if("string"==typeof t){var i=document.querySelector(t);if(i)return new o(i,e);throw new Error("There is no element with given selector.")}};o.prototype={defaults:{nextLabel:'涓嬩竴姝� <i class="sui-icon icon-double-angle-right"></i> ',prevLabel:'<i class="sui-icon icon-double-angle-left"></i> 涓婁竴姝�',skipLabel:"鐭ラ亾浜�",doneLabel:"鐭ラ亾浜�",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!(i.version="0.9.0"),scrollToElement:!0,overlayOpacity:.8},clone:function(){return new o(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}(this._options,t),this},start:function(){return t.call(this,this._targetElement),this},goToStep:function(t){return function(t){this._currentStep=t-2,void 0!==this._introItems&&A.call(this)}.call(this,t),this},nextStep:function(){return A.call(this),this},previousStep:function(){return z.call(this),this},exit:function(){H.call(this,this._targetElement)},refresh:function(){return V.call(this,document.querySelector(".sui-introjs-helperLayer")),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},n.introJs=i}(jQuery)},{}],9:[function(t,e,i){!function(l){"use strict";var d=function(t,e){if(this.options=e,null===t){var i='<div class="sui-modal hide fade" tabindex="-1" role="dialog" id={%id%} data-hidetype="remove"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">'+(e.closeBtn?'<button type="button" class="sui-close" data-dismiss="modal" aria-hidden="true">&times;</button>':"")+'<h4 class="modal-title">{%title%}</h4></div><div class="modal-body '+(e.hasfoot?"":"no-foot")+'">{%body%}</div>'+(e.hasfoot?'<div class="modal-footer"><button type="button" class="sui-btn btn-primary btn-large" data-ok="modal">{%ok_btn%}</button>'+(e.cancelBtn?'<button type="button" class="sui-btn btn-default btn-large" data-dismiss="modal">{%cancel_btn%}</button>':"")+"</div>":"")+"</div></div></div>";t=l(i.replace("{%title%}",e.title).replace("{%body%}",e.body).replace("{%id%}",e.id).replace("{%ok_btn%}",e.okBtn).replace("{%cancel_btn%}",e.cancelBtn)),l("body").append(t)}this.$element=l(t),e.transition||l(t).removeClass("fade"),this.init()};d.prototype={constructor:d,init:function(){var t=this.$element,e=this.options,i=e.width,n=e.height,o={small:440,normal:590,large:780};t.delegate('[data-dismiss="modal"]',"click.dismiss.modal",l.proxy(this.hide,this)).delegate(':not(.disabled)[data-ok="modal"]',"click.ok.modal",l.proxy(this.okHide,this)),i&&(o[i]&&(i=o[i]),t.width(i).css("margin-left",-parseInt(i)/2)),n&&t.find(".modal-body").height(n),"string"==typeof this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var i=this,t=l.Event("show"),n=this.$element;if(n.trigger(t),!this.isShown&&!t.isDefaultPrevented())return this.isShown=!0,this.escape(),this.backdrop(function(){var t=l.support.transition&&n.hasClass("fade");function e(t){t.$element.focus().trigger("shown"),0<t.options.timeout&&(t.timeid=setTimeout(function(){t.hide()},t.options.timeout))}n.parent().length||n.appendTo(document.body),i.resize(),n.show(),t&&n[0].offsetWidth,n.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),t?n.one(l.support.transition.end,function(){e(i)}):e(i)}),n},hide:function(t){t&&t.preventDefault();var e=this.$element;if(t=l.Event("hide"),"ok"!=this.hideReason&&e.trigger("cancelHide"),e.trigger(t),this.isShown&&!t.isDefaultPrevented())return this.isShown=!1,this.escape(),l(document).off("focusin.modal"),this.timeid&&clearTimeout(this.timeid),e.removeClass("in").attr("aria-hidden",!0),l.support.transition&&e.hasClass("fade")?this.hideWithTransition():this.hideModal(),e},okHide:function(t){var e=this;if(t){var i=this.options.okHide,n=!0;if(!i){var o=l._data(this.$element[0],"events").okHide;o&&o.length&&(i=o[o.length-1].handler)}return"function"==typeof i&&(n=i.call(this)),!1!==n&&s(),e.$element}function s(){e.hideReason="ok",e.hide(t)}s()},shadeIn:function(){var t=this.$element;if(!t.find(".shade").length)return l('<div class="shade in" style="background:'+this.options.bgcolor+'"></div>').appendTo(t),this.hasShaded=!0,this.$element},shadeOut:function(){return this.$element.find(".shade").remove(),this.hasShaded=!1,this.$element},shadeToggle:function(){return this[this.hasShaded?"shadeOut":"shadeIn"]()},resize:function(){var t=this.$element,e=t.height(),i=l(window).height(),n=0;return n=i<=e?-i/2:(i-e)/(1+1.618)-i/2,t.css("margin-top",parseInt(n)),t},enforceFocus:function(){var e=this;l(document).off("focusin.modal").on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(l.support.transition.end),t.hideModal()},300);this.$element.one(l.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(){var t=this,e=this.$element;e.hide(),this.backdrop(function(){t.removeBackdrop(),e.trigger("ok"==t.hideReason?"okHidden":"cancelHidden"),t.hideReason=null,e.trigger("hidden"),"remove"==e.data("hidetype")&&e.remove()})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"",i=this.options;if(this.isShown){var n=l.support.transition&&e;if(!1!==i.backdrop){if(this.$backdrop=l('<div class="sui-modal-backdrop '+e+'" style="background:'+i.bgcolor+'"/>').appendTo(document.body),this.$backdrop.click("static"==i.backdrop?l.proxy(this.$element[0].focus,this.$element[0]):l.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in "),!t)return;n?this.$backdrop.one(l.support.transition.end,t):t()}else t&&t()}else this.$backdrop?(this.$backdrop.removeClass("in"),l.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(l.support.transition.end,t):t()):t&&t()}};var t=l.fn.modal;l.fn.modal=function(n){return this.each(function(){var t=l(this),e=t.data("modal"),i=l.extend({},l.fn.modal.defaults,t.data(),"object"==typeof n&&n);e||t.data("modal",e=new d(this,i)),"string"==typeof n?e[n]():e.show()})},l.fn.modal.defaults={backdrop:!0,bgcolor:"#000",keyboard:!0,hasfoot:!0,closeBtn:!0,transition:!0},l.fn.modal.Constructor=d,l.fn.modal.noConflict=function(){return l.fn.modal=t,this},l(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=l(this),i=e.attr("href"),n=l(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":e.data();t.preventDefault(),n.modal(o).one("hide",function(){e.focus()})}),l.extend({_modal:function(t,e){var i,n,o=+new Date,s=l.extend({},l.fn.modal.defaults,t,{id:o,okBtn:"纭畾"},"string"==typeof e?{body:e}:e),a=new d(null,s),r=a.$element;return i=o,n=s,l.each(["show","shown","hide","hidden","okHidden","cancelHide","cancelHidden"],function(t,e){"function"==typeof n[e]&&l(document).on(e,"#"+i,l.proxy(n[e],l("#"+i)[0]))}),r.data("modal",a).modal("show"),r},alert:function(t){return l._modal({type:"alert",title:"娉ㄦ剰"},t)},confirm:function(t){return l._modal({type:"confirm",title:"鎻愮ず",cancelBtn:"鍙栨秷"},t)}})}(window.jQuery)},{}],10:[function(t,e,i){var n;(n=window.jQuery)(document).on("click.msgs",'[data-dismiss="msgs"]',function(t){t.preventDefault();var e=n(this).parents(".sui-msg").remove(),i=e.attr("id");i&&e.hasClass("remember")&&localStorage.setItem("sui-msg-"+i,1)}),n(function(){n(".sui-msg.remember").each(function(){var t=n(this),e=t.attr("id");e&&(localStorage.getItem("sui-msg-"+e)||t.show())})})},{}],11:[function(t,e,i){!function(o){function s(t){this.itemsCount=t.itemsCount,this.pageSize=t.pageSize,this.displayPage=t.displayPage<5?5:t.displayPage,this.pages=Math.ceil(t.itemsCount/t.pageSize)||1,o.isNumeric(t.pages)&&(this.pages=t.pages),this.currentPage=t.currentPage,this.styleClass=t.styleClass,this.onSelect=t.onSelect,this.showCtrl=t.showCtrl,this.remote=t.remote,this.displayInfoType="itemsCount"==t.displayInfoType&&t.itemsCount?"itemsCount":"pages"}s.prototype={_draw:function(){for(var t='<div class="sui-pagination',e=0;e<this.styleClass.length;e++)t+=" "+this.styleClass[e];t+='"></div>',this.hookNode.html(t),this._drawInner()},_drawInner:function(){var t=this.hookNode.children(".sui-pagination"),e='<ul><li class="prev'+(this.currentPage-1<=0?" disabled":" ")+'"><a href="#" data="'+(this.currentPage-1)+'">芦涓婁竴椤�</a></li>';if(this.pages<=this.displayPage||this.pages==this.displayPage+1)for(var i=1;i<this.pages+1;i++)i==this.currentPage?e+='<li class="active"><a href="#" data="'+i+'">'+i+"</a></li>":e+='<li><a href="#" data="'+i+'">'+i+"</a></li>";else if(this.currentPage<this.displayPage-1){for(i=1;i<this.displayPage;i++)i==this.currentPage?e+='<li class="active"><a href="#" data="'+i+'">'+i+"</a></li>":e+='<li><a href="#" data="'+i+'">'+i+"</a></li>";e+='<li class="dotted"><span>...</span></li>',e+='<li><a href="#" data="'+this.pages+'">'+this.pages+"</a></li>"}else if(this.currentPage>this.pages-this.displayPage+2&&this.currentPage<=this.pages){e+='<li><a href="#" data="1">1</a></li>',e+='<li class="dotted"><span>...</span></li>';for(i=this.pages-this.displayPage+2;i<=this.pages;i++)i==this.currentPage?e+='<li class="active"><a href="#" data="'+i+'">'+i+"</a></li>":e+='<li><a href="#" data="'+i+'">'+i+"</a></li>"}else{e+='<li><a href="#" data="1">1</a></li>',e+='<li class="dotted"><span>...</span></li>';var n,o,s=(this.displayPage-3)/2;(this.displayPage-3)%2==0?n=o=s:(n=Math.floor(s),o=Math.ceil(s));for(i=this.currentPage-n;i<=this.currentPage+o;i++)i==this.currentPage?e+='<li class="active"><a href="#" data="'+i+'">'+i+"</a></li>":e+='<li><a href="#" data="'+i+'">'+i+"</a></li>";e+='<li class="dotted"><span>...</span></li>',e+='<li><a href="#" data="'+this.pages+'">'+this.pages+"</a></li>"}e+='<li class="next'+(this.currentPage+1>this.pages?" disabled":" ")+'"><a href="#" data="'+(this.currentPage+1)+'">涓嬩竴椤德�</a></li></ul>',this.showCtrl&&(e+=this._drawCtrl()),t.html(e)},_drawCtrl:function(){return"<div>&nbsp;"+("itemsCount"==this.displayInfoType?"<span>鍏�"+this.itemsCount+"鏉�</span>&nbsp;":"<span>鍏�"+this.pages+"椤�</span>&nbsp;")+'<span>&nbsp;鍒�&nbsp;<input type="text" class="page-num"/><button class="page-confirm">纭畾</button>&nbsp;椤�</span></div>'},_ctrl:function(){var e=this,i=e.hookNode.children(".sui-pagination");function n(){var t=parseInt(i.find(".page-num").val());o.isNumeric(t)&&t<=e.pages&&0<t&&(e.remote||(e.currentPage=t,e._drawInner()),o.isFunction(e.onSelect)&&e.onSelect.call(o(this),t))}i.on("click",".page-confirm",function(t){n.call(this)}),i.on("keypress",".page-num",function(t){13==t.which&&n.call(this)})},_select:function(){var i=this;i.hookNode.children(".sui-pagination").on("click","a",function(t){t.preventDefault();var e=parseInt(o(this).attr("data"));o(this).parent().hasClass("disabled")||o(this).parent().hasClass("active")||(i.remote||(i.currentPage=e,i._drawInner()),o.isFunction(i.onSelect)&&i.onSelect.call(o(this),e))})},init:function(t,e){return this.hookNode=e,this._draw(),this._select(),this.showCtrl&&this._ctrl(),this},updateItemsCount:function(t,e){o.isNumeric(t)&&(this.pages=Math.ceil(t/this.pageSize)),this.currentPage=this.currentPage>this.pages?this.pages:this.currentPage,o.isNumeric(e)&&(this.currentPage=e),this._drawInner()},updatePages:function(t,e){o.isNumeric(t)&&(this.pages=t),this.currentPage=this.currentPage>this.pages?this.pages:this.currentPage,o.isNumeric(e)&&(this.currentPage=e),this._drawInner()},goToPage:function(t){o.isNumeric(t)&&t<=this.pages&&0<t&&(this.currentPage=t,this._drawInner())}};var t=o.fn.pagination;o.fn.pagination=function(t){var e=o.extend({},o.fn.pagination.defaults,"object"==typeof t&&t);"string"==typeof t&&(args=o.makeArray(arguments),args.shift());var i=o(this),n=i.data("sui-pagination");return n?"string"==typeof t&&n[t].apply(n,args):i.data("sui-pagination",n=new s(e).init(e,o(this))),n},o.fn.pagination.Constructor=s,o.fn.pagination.noConflict=function(){return o.fn.pagination=t,this},o.fn.pagination.defaults={pageSize:10,displayPage:5,currentPage:1,itemsCount:0,styleClass:[],pages:null,showCtrl:!1,onSelect:null,remote:!1}}(window.jQuery)},{}],12:[function(t,e,i){t("./transition"),t("./msgs"),t("./filesize"),t("./button"),t("./dropdown"),t("./modal"),t("./tooltip"),t("./tab"),t("./pagination"),t("./validate"),t("./validate-rules"),t("./tree"),t("./datepicker"),t("./timepicker"),t("./checkbox"),t("./autocomplete"),t("./intro"),t("./carousel"),t("./template")},{"./autocomplete":1,"./button":2,"./carousel":3,"./checkbox":4,"./datepicker":5,"./dropdown":6,"./filesize":7,"./intro":8,"./modal":9,"./msgs":10,"./pagination":11,"./tab":13,"./template":14,"./timepicker":15,"./tooltip":16,"./transition":17,"./tree":18,"./validate":20,"./validate-rules":19}],13:[function(t,e,i){!function(a){"use strict";var n=function(t){this.element=a(t)};n.prototype={constructor:n,show:function(){var t,e,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=a.Event("show",{relatedTarget:t}),n.trigger(i),i.isDefaultPrevented()||(e=a(s),this.activate(n.parent("li"),o),this.activate(e,e.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,i){var n=e.find("> .active"),o=i&&a.support.transition&&n.hasClass("fade");function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}o?n.one(a.support.transition.end,s):s(),n.removeClass("in")}};var t=a.fn.tab;a.fn.tab=function(i){return this.each(function(){var t=a(this),e=t.data("tab");e||t.data("tab",e=new n(this)),"string"==typeof i&&e[i]()})},a.fn.tab.Constructor=n,a.fn.tab.noConflict=function(){return a.fn.tab=t,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),a(this).tab("show")})}(window.jQuery)},{}],14:[function(t,e,i){!function(d){var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};d.escape=function(e){var i=function(t){return e[t]},t=[];for(var n in r)t.push(n);var o="(?:"+t.join("|")+")",s=RegExp(o),a=RegExp(o,"g");return function(t){return t=null==t?"":""+t,s.test(t)?t.replace(a,i):t}}(r);var h={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},c=/(.)^/,e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},u=/\\|'|\r|\n|\u2028|\u2029/g,p=function(t){return"\\"+e[t]};d.template=function(s,t,e){!t&&e&&(t=e),t=d.extend({},t,h);var i=RegExp([(t.escape||c).source,(t.interpolate||c).source,(t.evaluate||c).source].join("|")+"|$","g"),a=0,r="__p+='";s.replace(i,function(t,e,i,n,o){return r+=s.slice(a,o).replace(u,p),a=o+t.length,e?r+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(r+="';\n"+n+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var n=new Function(t.variable||"obj","_",r)}catch(t){throw t.source=r,t}var o=function(t){return n.call(this,t,d)},l=t.variable||"obj";return o.source="function("+l+"){\n"+r+"}",o}}(window.jQuery)},{}],15:[function(t,e,i){!function(v){function s(t,e){if(!(this instanceof s))return new s(t,e);this.init(t,e)}s.prototype={_defaultCfg:{hour:(new Date).getHours(),minute:(new Date).getMinutes(),orientation:{x:"auto",y:"auto"},keyboardNavigation:!0},init:function(t,e){this.element=v(t),this.isInline=!1,this.isInDatepicker=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .sui-btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=v('<div class="timepicker"></div>'),this.o=this.config=v.extend(this._defaultCfg,e),this._buildEvents(),this._attachEvents(),this.isInDatepicker?this.picker.addClass("timepicker-in-datepicker").appendTo(this.element):this.isInline?(this.picker.addClass("timepicker-inline").appendTo(this.element),this._show()):this.picker.addClass("timepicker-dropdown dropdown-menu")},destory:function(){this._detachSecondaryEvents(),this.picker.html(""),this.picker=null},_show:function(){this.isInline||this.isInDatepicker||this.picker.appendTo("body"),this.picker.show(),this._place(),this._render(),this._attachSecondaryEvents()},show:function(){return this._show()},_hide:function(){this.isInline||this.isInDatepicker||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this._setValue())},_keydown:function(t){if(!this.isInDatepicker)if(this.picker.is(":not(:visible)"))27===t.keyCode&&this._show();else switch(t.keyCode){case 27:this._hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;break;case 38:case 40:if(!this.o.keyboardNavigation)break;break;case 32:break;case 13:this._hide()}},_place:function(){if(!this.isInline&&!this.isInDatepicker){var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=v(window),n=i.width(),o=i.height(),s=i.scrollTop(),a=parseInt(this.element.parents().filter(function(){return"auto"!==v(this).css("z-index")}).first().css("z-index"))+10,r=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=r.left,c=r.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):(this.picker.addClass("datepicker-orient-left"),r.left<0?h-=r.left-10:r.left+t>n&&(h=n-t-10));var u,p,f=this.o.orientation.y;"auto"===f&&(u=-s+r.top-e,p=s+o-(r.top+l+e),f=Math.max(u,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+f),"top"===f?c+=l+6:c-=e+parseInt(this.picker.css("padding-top"))+6,this.picker.css({top:c,left:h,zIndex:a})}},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(i=void 0,n=t[o][1]):3===t[o].length&&(i=t[o][1],n=t[o][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(n=void 0,i=t[o][1]):3===t[o].length&&(n=t[o][1],i=t[o][2]),e.off(i,n)},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents),this._pickerEvents()},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents),this.picker.off("click")},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:v.proxy(this._show,this),keyup:v.proxy(function(t){-1===v.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this._updateUI()},this),keydown:v.proxy(this._keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:v.proxy(this._show,this),keyup:v.proxy(function(t){-1===v.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this._updateUI()},this),keydown:v.proxy(this._keydown,this)}],[this.component,{click:v.proxy(this._show,this)}]]:this.element.is("div")?this.element.is(".timepicker-container")?this.isInDatepicker=!0:this.isInline=!0:this._events=[[this.element,{click:v.proxy(this._show,this)}]],this._events.push([this.element,"*",{blur:v.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:v.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[v(window),{resize:v.proxy(this._place,this)}],[v(document),{"mousedown touchstart":v.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this._hide()},this)}]]},_pickerEvents:function(){var a=this;this.picker.on("click",".J_up",function(t){var e=t.currentTarget,i=v(e).parent().attr("data-role");a._slide(i,"up")}).on("click",".J_down",function(t){var e=t.currentTarget,i=v(e).parent().attr("data-role");a._slide(i,"down")}).on("click","span",function(t){var e=t.currentTarget,i=v(e).parent().parent().parent().attr("data-role"),n=e.innerHTML,o=a[i+"Attr"],s=parseInt(n-o.current,10);0<s?a._slideDonw(o,s):a._slideUp(o,-s)})},_slide:function(t,e){var i=this[t+"Attr"];"up"==e?this._slideUp(i):"down"==e&&this._slideDonw(i)},_slideDonw:function(t,e,i){e=e||1;t.cp;var n=t.ih*e;t.current+=e,t.current>t.maxSize&&(t.current=0,n=-t.ih*t.maxSize),t.cp-=n,this._animate(t.innerPickerCon,t.cp),v(".current",t.innerPickerCon).removeClass("current"),v('span[data-num="'+t.current+'"]',t.innerPickerCon).addClass("current"),i||this._setValue()},_slideUp:function(t,e,i){e=e||1;t.cp;var n=t.ih*e;t.current-=e,t.current<0&&(t.current=t.maxSize,n=-t.ih*t.maxSize),t.cp+=n,this._animate(t.innerPickerCon,t.cp),v(".current",t.innerPickerCon).removeClass("current"),v('span[data-num="'+t.current+'"]',t.innerPickerCon).addClass("current"),i||this._setValue()},_updateSlide:function(t,e){e&&0<e?this._slideDonw(t,e,!0):e&&this._slideUp(t,-e,!0)},_updateUI:function(){var t,e,i=this.o.minute,n=this.o.hour;this._getInputTime(),i!==this.o.minute&&(t=this.minuteAttr,e=parseInt(this.o.minute-t.current,10),this._updateSlide(t,e)),n!==this.o.hour&&(t=this.hourAttr,e=parseInt(this.o.hour-t.current,10),this._updateSlide(t,e))},_doSetValue:function(t,e){var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i?(i.change(),i.val(t)):this.isInDatepicker&&(this.element.data("time",t),e||this.element.trigger("time:change"))},_render:function(){this.picker.html(""),this._getInputTime(),this._renderHour(),this._renderMinutes(),this._renderSplit(),this._setValue()},_foramtTimeString:function(t){for(var e,i,n={minute:0,hour:0},o=(t=t.split(":")).length-1;0<=o;o--)t[o]=v.trim(t[o]);return 2===t.length&&(0<=(e=parseInt(t[1],10))&&e<60&&(n.minute=e),0<=(i=parseInt(t[0],10))&&i<24&&(n.hour=i)),n},_getInputTime:function(){var t,e,i;this.isInline&&this.isInDatepicker||(this.isInput||this.isInDatepicker?t=this.element:this.component&&(t=this.element.find("input")),t&&(e=this.isInDatepicker?v.trim(t.data("time")):v.trim(t.val()),i=this._foramtTimeString(e),this.o.minute=i.minute,this.o.hour=i.hour))},_juicer:function(t,e){for(var i="",n=e.length-1;0<=n;n--)i=(e[n]==t?'<span class="current" data-num="'+n+'">'+e[n]+"</span>":'<span data-num="'+n+'">'+e[n]+"</span>")+i;return'<div class="picker-wrap"><a href="javascript:;" class="picker-btn up J_up"><b class="arrow"></b><b class="arrow-bg"></b></a><div class="picker-con"><div class="picker-innercon">'+i+'</div></div><a href="javascript:;" class="picker-btn down J_down"><b class="arrow"></b><b class="arrow-bg"></b></a></div>'},_renderHour:function(){for(var t=[],e=0;e<24;e++)t.push(this._beautifyNum(e));var i=this._juicer(this.o.hour,t),n=v(i);n.attr("data-role","hour"),this.picker.append(n),this.hourAttr=this._addPrefixAndSuffix(n,23),this.hourAttr.current=this.o.hour,this.hourAttr.maxSize=23},_renderMinutes:function(){for(var t=[],e=0;e<60;e++)t.push(this._beautifyNum(e));var i=this._juicer(this.o.minute,t),n=v(i);n.attr("data-role","minute"),this.picker.append(n),this.minuteAttr=this._addPrefixAndSuffix(n,59),this.minuteAttr.current=this.o.minute,this.minuteAttr.maxSize=59},_addPrefixAndSuffix:function(t,e){for(var i,n=v(".picker-con",t),o=v(".picker-innercon",t),s=v(".current",t),a=s.outerHeight(),r=n.outerHeight(),l=Math.floor(r/a)+1,d="",h=e-l;h<=e;h++)d+="<span>"+this._beautifyNum(h)+"</span>";o.prepend(v(d)),d="";for(var c=0;c<l;c++)d+="<span>"+this._beautifyNum(c)+"</span>";return o.append(v(d)),i=2*a-(s.offset().top-n.offset().top),this._animate(o,i),{ph:r,cp:i,ih:a,innerPickerCon:o,scrollNum:l-1}},_renderSplit:function(){this.picker.append(v('<div class="timePicker-split"><div class="hour-input"></div><div class="split-icon">:</div><div class="minute-input"></div></div>'))},_getCurrentTimeStr:function(){var t,e;return e=this.hourAttr.current,t=this.minuteAttr.current,this._beautifyNum(e)+":"+this._beautifyNum(t)},_setValue:function(){this.isInline||this._doSetValue(this._getCurrentTimeStr())},_animate:function(t,e){v.support.transition?t.css({top:e+"px"}):t.animate({top:e+"px"},300)},_beautifyNum:function(t){return t=t.toString(),parseInt(t)<10?"0"+t:t},update:function(t,e){this._doSetValue(t,e),this._updateUI()},getTime:function(){return this._getCurrentTimeStr()}};var t=v.fn.timepicker;v.fn.timepicker=function(i){var n,o=Array.apply(null,arguments);return o.shift(),this.each(function(){var t=v(this),e=t.data("timepicker");if(e||t.data("timepicker",e=new s(this,i)),"string"==typeof i&&"function"==typeof e[i]&&void 0!==(n=e[i].apply(e,o)))return!1}),void 0!==n?n:this},v.fn.timepicker.noConflict=function(){return v.fn.timepicker=t,this},v(document).on("focus.timepicker.data-api click.timepicker.data-api",'[data-toggle="timepicker"]',function(t){var e=v(this);e.data("timepicker")||(t.preventDefault(),e.timepicker("_show"))}),v(function(){v('[data-toggle="timepicker-inline"]').timepicker()})}(window.jQuery)},{}],16:[function(t,e,i){!function(c){"use strict";var o=function(t,e){this.init("tooltip",t,e)};o.prototype={constructor:o,init:function(t,e,i){var n,o,s,a,r;for(this.type=t,this.$element=c(e),this.options=this.getOptions(i),this.enabled=!0,this.hoverState="out",r=(s=this.options.trigger.split(" ")).length;r--;)"click"==(a=s[r])?this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this)):"manual"!=a&&(n="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,c.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,c.proxy(this.leave,this)));this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){var e="confirm"==(t=c.extend({},c.fn[this.type].defaults,this.$element.data(),t)).type?'<div class="tooltip-footer"><button class="sui-btn btn-primary" data-ok="tooltip">纭畾</button><button class="sui-btn btn-default" data-dismiss="tooltip">鍙栨秷</button></div>':"";return t.template='<div class="sui-tooltip '+t.type+'" style="overflow:visible"><div class="tooltip-arrow"><div class="tooltip-arrow cover"></div></div><div class="tooltip-inner"></div>'+e+"</div>","confirm"==t.type&&(t.html=!0),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,i=c.fn[this.type].defaults,n={};if(this._options&&c.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)},this),e=c(t.currentTarget)[this.type](n).data(this.type),clearTimeout(e.timeout),"out"==this.hoverState){if(this.hoverState="in",this.tip().off(c.support.transition&&c.support.transition.end),!this.options.delay||!this.options.delay.show)return this.show();this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},leave:function(t){var e=c(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();this.timeout=setTimeout(function(){e.isTipHover||(e.hoverState="out"),"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,i,n,o,s,a,e=c.Event("show"),r=this.options,l=r.align,d=this;if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;t=this.tip(),this.setContent(),r.animation&&t.addClass("fade"),s="function"==typeof r.placement?r.placement.call(this,t[0],this.$element[0]):r.placement,t.detach().css({top:0,left:0,display:"block"}),r.container?t.appendTo(r.container):t.insertAfter(this.$element),/\bhover\b/.test(r.trigger)&&t.hover(function(){d.isTipHover=1},function(){d.isTipHover=0,d.hoverState="out",t.detach()}),this.setWidth(),i=this.getPosition(),n=t[0].offsetWidth,o=t[0].offsetHeight;var h="attention"==r.type?5:7;a=function(){var t=i.left+i.width/2-n/2,e=i.top+i.height/2-o/2;switch(l){case"left":t=i.left;break;case"right":t=i.left-n+i.width;break;case"top":e=i.top;break;case"bottom":e=i.top-o+i.height}switch(s){case"bottom":a={top:i.top+i.height+h,left:t};break;case"top":a={top:i.top-o-h,left:t};break;case"left":a={top:e,left:i.left-n-h};break;case"right":a={top:e,left:i.left+i.width+h}}return a}(),this.applyPlacement(a,s),this.applyAlign(l,i),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,o,s,a=this.tip(),r=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),i=a[0].offsetWidth,n=a[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,s=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,a.offset(t),i=a[0].offsetWidth,n=a[0].offsetHeight),this.replaceArrow(o-r+i,i,"left")):this.replaceArrow(n-l,n,"top"),s&&a.offset(t)},applyAlign:function(t,e){var i=this.tip(),n=i[0].offsetWidth,o=i[0].offsetHeight,s={};switch(t){case"left":e.width<n&&(s={left:e.width/2});break;case"right":e.width<n&&(s={left:n-e.width/2});break;case"top":e.height<o&&(s={top:e.height/2});break;case"bottom":e.height<o&&(s={top:o-e.height/2})}"center"!=t&&i.find(".tooltip-arrow").first().css(s)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setWidth:function(){var t,e=this.options,i=e.width,n=e.widthlimit,o=this.tip();i?o.width(i):!0===n?o.css("max-width","400px"):(!1===n&&(t="none"),"string"==typeof e.widthlimit&&(t=n),o.css("max-width",t))},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t=this.tip(),e=c.Event("hide"),i=this,n=this.options;if(this.$element.trigger(e),!e.isDefaultPrevented())return t.removeClass("in"),"function"==typeof n.hide&&n.hide.call(i.$element),c.support.transition&&this.$tip.hasClass("fade")?(i.timeout=setTimeout(function(){t.off(c.support.transition.end).detach()},500),t.one(c.support.transition.end,function(){clearTimeout(i.timeout),t.detach()})):t.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&("tooltip"==t.data("toggle")?t.attr("data-original-title",t.attr("title")||"").attr("title",""):t.attr("data-original-title",""))},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return c.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?c(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=c.fn.tooltip;c.fn.tooltip=function(n){return this.each(function(){var t=c(this),e=t.data("tooltip"),i="object"==typeof n&&n;e||t.data("tooltip",e=new o(this,i)),"string"==typeof n&&e[n]()})},c.fn.tooltip.Constructor=o,c.fn.tooltip.defaults={animation:!0,type:"default",placement:"top",selector:!1,trigger:"hover focus",title:"it is default title",delay:{show:0,hide:200},html:!0,container:!1,widthlimit:!0,align:"center"},c.fn.tooltip.noConflict=function(){return c.fn.tooltip=t,this},c(function(){c('[data-toggle="tooltip"]').tooltip(),c(document).on("mousedown",function(t){var e=c(t.target),i=c(".sui-tooltip"),n=i.prev(),o=e.parents(".sui-tooltip");i.length&&!o.length&&e[0]!=n[0]&&e.parents("[data-original-title]")[0]!=n[0]&&n.trigger("click.tooltip")}),c(document).on("click","[data-dismiss=tooltip]",function(t){t.preventDefault(),c(t.target).parents(".sui-tooltip").prev().trigger("click.tooltip")}),c(document).on("click","[data-ok=tooltip]",function(t){t.preventDefault();var e=c(t.target).parents(".sui-tooltip").prev(),i=e.data("tooltip").options.okHide;"function"==typeof i&&i.call(e)})})}(window.jQuery)},{}],17:[function(t,e,i){!function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}())&&{end:t}})}(window.jQuery)},{}],18:[function(t,e,i){!function(s){"use strict";var i=function(){this.data={}};i.prototype={constructor:i,query:function(t){return this.data[t]},insert:function(t,e){this.data[t]=e},clear:function(){this.data={}}};var a=function(t,e){this.$element=s(t),this.options=e,this.redis=new i},r={init:function(){this.destory(),r.bindChange.call(this),r.bindUpdate.call(this),this.$element.trigger("tree:update")},getData:function(e,i){var n=this,o=n.redis.query(e);n.options.src&&(o?r.createDom.apply(n,[o,i]):s.ajax(n.options.src,{data:n.options.key+"="+e,cache:!0,dataType:n.options.jsonp?"jsonp":"json"}).success(function(t){200==t.code&&t.data&&t.data.length&&(o=t.data,n.redis.insert(e,o),r.createDom.apply(n,[o,i]))}))},createDom:function(t,e){var i=["<select>"],n=this.options.placeholder,o=this.options.val[e];n&&i.push('<option value="">'+n+"</option>"),s.each(t,function(t,e){i.push('<option data-isleaf="'+e.isleaf+'" value="'+e.id+'" '+(e.id==o?"selected":"")+">"+e.value+"</option>")}),i.push("</select>"),i=s(i.join("")).appendTo(this.$element).trigger("change")},bindChange:function(){var n=this;this.$element.on("change.sui.tree","select",function(t){var e=s(this),i=e.val();e.nextAll().remove(),r.saveValue.call(n),i&&(e.find("option:selected").data("isleaf")?n.options.val=[]:r.getData.apply(n,[i,e.index()+1]))})},bindUpdate:function(){var e=this;this.$element.on("tree:update",function(t){s(this).empty(),r.getData.apply(e,[0,0])})},saveValue:function(){var t=[],e=[];this.$element.find("select").each(function(){t.push(this.value),e.push(s(this).find("option:selected").text())}),this.datas={text:e,value:t}}};a.prototype={constructor:a,getValue:s.noop,setValue:function(t){this.options.val=t,this.$element.trigger("tree:update")},destory:function(){this.$element.off("change.sui.tree").empty()}};var t=s.fn.tree;s.fn.extend({tree:function(){var n=Array.prototype.slice.call(arguments),o=n.shift();return this.each(function(){var t=s(this),e=t.data("tree"),i=s.extend({},s.fn.tree.defaults,t.data(),"object"==typeof o&&o);e||t.data("tree",e=new a(this,i)),"string"==typeof o&&"function"==typeof e[o]?e[o].apply(e,n):r.init.call(e)})}}),s.fn.tree.Constructor=a,s.fn.tree.defaults={src:"",treeType:"select",placeholder:"璇烽€夋嫨",val:[],key:"id"},s.fn.tree.noConflict=function(){return s.fn.tree=t,this},s(function(){s('[data-toggle="tree"]').tree()})}(jQuery)},{}],19:[function(t,e,i){!function(o){Validate=o.validate,trim=function(t){return t?t.replace(/^\s+/g,"").replace(/\s+$/g,""):t};Validate.setRule("required",function(t,e,i){o(e);return!!trim(t)},function(t,e){var i,n,o;return"璇�"+(n=(i=t)[0].tagName.toUpperCase(),"CHECKBOX"==(o=i[0].type.toUpperCase())||"RADIO"==o||"SELECT"==n?"閫夋嫨":"濉啓")});Validate.setRule("prefill",function(t,e,i){var n=o(e);return!i||"string"!=typeof i||!!n.parents("form").find("[name='"+i+"']").val()},function(t,e){var i,n,o;if(e&&"string"==typeof e){var s=t.parents("form").find("[name='"+e+"']");if(!s.val())return"璇峰厛"+(n=(i=s)[0].tagName.toUpperCase(),"CHECKBOX"==(o=i[0].type.toUpperCase())||"RADIO"==o||"SELECT"==n?"閫夋嫨":"濉啓")+(s.attr("title")||s.attr("name"))}return"閿欒"});Validate.setRule("match",function(t,e,i){return(t=trim(t))==o(e).parents("form").find("[name='"+i+"']").val()},"蹇呴』涓�$0鐩稿悓");Validate.setRule("number",function(t,e,i){return t=trim(t),/^\d+(.\d*)?$/.test(t)},"璇疯緭鍏ユ暟瀛�");Validate.setRule("digits",function(t,e,i){return t=trim(t),/^\d+$/.test(t)},"璇疯緭鍏ユ暣鏁�");Validate.setRule("mobile",function(t,e,i){return/^0?1[3|4|5|7|8][0-9]\d{8,9}$/.test(trim(t))},"璇峰～鍐欐纭殑鎵嬫満鍙风爜");Validate.setRule("tel",function(t,e,i){return/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,11})+$/.test(trim(t))},"璇峰～鍐欐纭殑鐢佃瘽鍙风爜");Validate.setRule("email",function(t,e,i){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(trim(t))},"璇峰～鍐欐纭殑email鍦板潃");Validate.setRule("zip",function(t,e,i){return/^[1-9][0-9]{5}$/.test(trim(t))},"璇峰～鍐欐纭殑閭紪");Validate.setRule("date",function(t,e,i){return i=i||"-",new RegExp("^[1|2]\\d{3}"+i+"[0-2][0-9]"+i+"[0-3][0-9]$").test(trim(t))},"璇峰～鍐欐纭殑鏃ユ湡");Validate.setRule("time",function(t,e,i){return/^[0-2]\d:[0-6]\d$/.test(trim(t))},"璇峰～鍐欐纭殑鏃堕棿");Validate.setRule("datetime",function(t,e,i){return new RegExp("^[1|2]\\d{3}-[0-2][0-9]-[0-3][0-9] [0-2]\\d:[0-6]\\d$").test(trim(t))},"璇峰～鍐欐纭殑鏃ユ湡鍜屾椂闂�");Validate.setRule("url",function(t,e,i){var n;return t=trim(t),n=/(http|ftp|https):\/\/([\w-]+\.)+[\w-]+\.(com|net|cn|org|me|io|info|xxx)/,/^http/.test(t)||(t="http://"+t),n.test(t)},"璇峰～鍐欐纭殑缃戝潃");Validate.setRule("minlength",function(t,e,i){return trim(t).length>=i},"闀垮害涓嶈兘灏戜簬$0");Validate.setRule("maxlength",function(t,e,i){return trim(t).length<=i},"闀垮害涓嶈兘瓒呰繃$0");Validate.setRule("gt",function(t,e,i){return Number(t)>i},"蹇呴』澶т簬$0");Validate.setRule("lt",function(t,e,i){return Number(t)<i},"蹇呴』灏忎簬$0")}(window.jQuery)},{}],20:[function(t,e,i){!function(v){"use strict";var g=function(t,e){var i=this;this.options=v.extend({},v.fn.validate.defaults,e),this.$form=v(t).attr("novalidate","novalidate"),this.$form.submit(function(){return n.call(i)}),this.disabled=!1,this.$form.on("blur keyup change update","input, select, textarea",function(t){if(!i.disabled){var e=v(t.target);e.attr("disabled")||s.call(i,e)}}),this.errors={}};g.rules={},g.setRule=function(t,e,i){var n=g.rules[t];n&&!e&&(e=n.method),g.rules[t]={method:e,msg:i}},g.setMsg=function(t,e){g.setRule(t,void 0,e)},g.prototype={disable:function(){this.disabled=!0,this.hideError()},enable:function(){this.disabled=!1},showError:function(t,e,i){o.call(this,t,e,i)},hideError:function(t,e){m.call(this,t,e)}};var n=function(){if(this.disabled)return!0;var i,n;i=!1;var o=[];if((n=this).$form.find("input, select, textarea").each(function(){var t,e;if(t=v(this),(e=s.call(n,this))&&!i&&t.focus(),e)return o.push(t),i=!0}),i)this.options.fail.call(this,o,this.$form);else if(!1===this.options.success.call(this,this.$form))return!1;return!i},s=function(t){for(var e=v(t),i={},n=(e.data("rules")||"").split("|"),o=e.attr("name"),s=0;s<n.length;s++)if(n[s]){var a=n[s].split("=");a[1]=a[1]||void 0,i[a[0]]=a[1]}var r=this.options.rules&&this.options.rules[o]||{};i=v.extend(i,r);var l=!1,d=null;for(var h in i){var c=i[h],u=g.rules[h];if(!u)throw new Error("鏈畾涔夌殑鏍￠獙瑙勫垯锛�"+h);var p=_(e);if(p||"required"===h){if(!(v.isFunction(c)?c.call(this,e):u.method.call(this,p,e,c))){if(l=!0,d=u.msg,v.isFunction(d)&&(d=d(e,c)),"required"!==h&&(e.data("error-msg")&&(d=e.data("error-msg")),this.options.messages&&this.options.messages[o]&&(d=this.options.messages[o],v.isFunction(d)&&(d=d(e,c)),v.isArray(d)&&(d=d[1]))),"required"===h&&(e.data("empty-msg")&&(d=e.data("empty-msg")),this.options.messages&&this.options.messages[o])){var f=this.options.messages[o];v.isFunction(f)&&(f=d(e,c)),v.isArray(f)&&(d=f[0])}this.showError(e,d.replace("$0",c),h);break}l=!1,m.call(this,e,h)}else l=!1,m.call(this,e)}return l},o=function(t,e,i){i=i||"anonymous","string"==typeof t&&(t=this.$form.find("[name='"+t+"']"));var n=(t=v(t)).attr("name"),o=this.errors[n]||(this.errors[n]={}),s=o[i];for(var a in s||(s=o[i]=v(this.options.errorTpl.replace("$errorMsg",e)),this.options.placeError.call(this,t,s)),o)a!==i&&o[a].hide();this.options.highlight.call(this,t,s,this.options.inputErrorClass),t.trigger("highlight")},m=function(t,e){var n=this,i=function(t){var e=n.errors[t.attr("name")];for(var i in e)n.options.unhighlight.call(n,t,e[i],n.options.inputErrorClass)};t||this.$form.find("input, select, textarea").each(function(){var t=v(this);t.attr("disabled")||i(t)}),"string"==typeof t&&(t=this.$form.find("[name='"+t+"']")),t=v(t);var o=this.errors[t.attr("name")];if(o)if(e){var s=o[e];s&&(this.options.unhighlight.call(this,t,s,this.options.inputErrorClass),t.trigger("unhighlight"))}else i(t)},_=function(t){var e=v(t);if(e[0]){var i=e[0].tagName.toUpperCase(),n=(e.attr("type")||"text").toUpperCase(),o=e.attr("name"),s=e.parents("form");switch(i){case"INPUT":switch(n){case"CHECKBOX":case"RADIO":return s.find("[name='"+o+"']:checked").val();default:return e.val()}break;case"TEXTAREA":default:return e.val()}}},t=v.fn.validate;v.fn.extend({validate:function(i){var n=arguments;return this.each(function(){var t=v(this),e=t.data("validate");e||t.data("validate",e=new g(this,i)),"string"==typeof i&&e[i].apply(e,Array.prototype.slice.call(n,1))})}}),v.fn.validate.Constructor=g,v.fn.validate.defaults={errorTpl:'<div class="sui-msg msg-error help-inline">\n  <div class="msg-con">\n    <span>$errorMsg</span>\n </div>   <i class="msg-icon"></i>\n  \n</div>',inputErrorClass:"input-error",placeError:function(t,e){var i=(t=v(t)).parents(".controls-wrap");i[0]||(i=t.parents(".controls")),i[0]||(i=t.parent()),e.appendTo(i[0])},highlight:function(t,e,i){t.addClass(i),v.fn.validate.defaults.placeError(t,e),e.show()},unhighlight:function(t,e,i){e.is(":visible")&&(t.removeClass(i),e.hide())},rules:void 0,messages:void 0,success:v.noop,fail:v.noop},v.fn.validate.noConflict=function(){return v.fn.validate=t,this},v.validate=g,v(function(){v(".sui-validate").validate()})}(window.jQuery)},{}]},{},[12]),function(t){if(t.jsMind){var e="kmsjsmap",i="undefined"==typeof console?{log:_noop,debug:_noop,error:_noop,warn:_noop,info:_noop}:console;if("undefined"!=typeof module&&module.exports||void 0===t[e]){var n={options:"",isInit:!1,editable:!0,onRelation:_noop,init:function(t){t&&0!==Object.keys(t).length?this.isInit||(this.isInit=!0,this.options=t,this.editable=!0===t.editable,t.onRelation&&(this.onRelation=t.onRelation),this._load_jsmind(),this._init_button()):i.warn("请对"+e+".init()传入必要的参数")}},o=null;n._load_jsmind=function(){var t={container:this.options.container,editable:this.editable,theme:"primary",mode:"full",shortcut:{enable:!1},onRelation:this.onRelation},e={meta:{name:"思维导图JS库",author:"Leo",version:"1.0"},format:"node_array",data:this.options.data};(o=new jsMind(t)).show(e)},n._init_button=function(){$(function(){$("jmnode").on("contextmenu",n._conTextMenuEvenHandle)})},n._conTextMenuEvenHandle=function(t){t.preventDefault(),n.editable&&$conTextMenu.show().css({left:t.pageX,top:t.pageY})},n._get_selected_nodeid=function(){var t=o.get_selected_node();return t?t.id:null},n.save=function(t){var e=o.get_data("node_array").data;t&&t(e)},n.del_node=function(){var e=this;$conTextMenu.hide(),$.confirm({title:"温馨提示",body:"确认删除此节点吗?",okBtn:"是是是",cancelBtn:"不是,我手滑了",okHidden:function(){var t=e._get_selected_nodeid();o.remove_node(t)}})},n.modify_node=function(){$conTextMenu.hide();var t=o.get_selected_node();o.begin_edit(t)},n.add_node=function(){$conTextMenu.hide();var t=jsMind.util.uuid.newid(),e=o.add_node(o.get_selected_node(),t,"请输入子节点名称",{badge:0},"right");o.begin_edit(e),$("jmnode").off("contextmenu",function(){}),$("jmnode").on("contextmenu",n._conTextMenuEvenHandle)},n.relation_node=function(){$conTextMenu.hide();var t=o.get_selected_node();n.onRelation(t)},n.screenshot=function(){o.screenshot.shootDownload()},"undefined"!=typeof module&&"object"==typeof exports?module.exports=n:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return n}):t[e]=n}else i.log(e+"已经存在啦啦啦啦~")}}(window);
